fee61537e37f32ddc3a4d0bdfb7c1bc1
_getJestObj().mock('../../apis/contact', function () {
  return {
    getContacts: jest.fn()
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return Object.assign({}, jest.requireActual('@react-navigation/native'), {
    useIsFocused: jest.fn()
  });
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _List = _interopRequireDefault(require("../List"));
var _contact = require("../../apis/contact");
var _testUtils = require("../../utils/test-utils");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var createTestProps = function createTestProps(props) {
  return Object.assign({
    navigation: Object.assign({
      navigate: jest.fn()
    }, props)
  }, props);
};
describe('List', function () {
  test('renders correctly and fetches contacts', (0, _asyncToGenerator2.default)(function* () {
    var mockContacts = [{
      id: '111',
      firstName: 'John',
      lastName: 'Doe',
      age: 20,
      photo: 'https://picsum.photos/200'
    }, {
      id: '222',
      firstName: 'Jane',
      lastName: 'Smith',
      age: 20,
      photo: 'https://picsum.photos/200'
    }];
    var mockedGetContacts = _contact.getContacts;
    mockedGetContacts.mockResolvedValueOnce({
      data: {
        data: mockContacts
      },
      status: 200
    });
    var props = createTestProps({});
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_List.default, Object.assign({
        route: {
          key: 'List',
          name: 'List'
        }
      }, props))),
      getByText = _renderWithProviders.getByText;
    _reactNative.screen.debug();
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Contact')).toBeTruthy();
      expect(getByText('John Doe')).toBeTruthy();
      expect(getByText('Jane Smith')).toBeTruthy();
    });
    expect(_contact.getContacts).toHaveBeenCalledTimes(1);
  }));
  test('displays error message when fetching contacts fails', (0, _asyncToGenerator2.default)(function* () {
    var mockedGetContacts = _contact.getContacts;
    mockedGetContacts.mockResolvedValueOnce({
      data: {
        data: null
      },
      status: 500
    });
    var _renderWithProviders2 = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_List.default, Object.assign({
        route: {
          key: 'List',
          name: 'List'
        }
      }, props))),
      getByText = _renderWithProviders2.getByText;
    expect(getByText('Loading...')).toBeTruthy();
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Error')).toBeTruthy();
      expect(getByText('something went wrong')).toBeTruthy();
    });
    expect(_contact.getContacts).toHaveBeenCalledTimes(1);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRDb250YWN0cyIsImplc3QiLCJmbiIsIk9iamVjdCIsImFzc2lnbiIsInJlcXVpcmVBY3R1YWwiLCJ1c2VJc0ZvY3VzZWQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9MaXN0IiwiX2NvbnRhY3QiLCJfdGVzdFV0aWxzIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImNyZWF0ZVRlc3RQcm9wcyIsInByb3BzIiwibmF2aWdhdGlvbiIsIm5hdmlnYXRlIiwiZGVzY3JpYmUiLCJ0ZXN0IiwiZGVmYXVsdCIsIm1vY2tDb250YWN0cyIsImlkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJhZ2UiLCJwaG90byIsIm1vY2tlZEdldENvbnRhY3RzIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiZGF0YSIsInN0YXR1cyIsIl9yZW5kZXJXaXRoUHJvdmlkZXJzIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsImpzeCIsInJvdXRlIiwia2V5IiwibmFtZSIsImdldEJ5VGV4dCIsInNjcmVlbiIsImRlYnVnIiwid2FpdEZvciIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJfcmVuZGVyV2l0aFByb3ZpZGVyczIiXSwic291cmNlcyI6WyJMaXN0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge3NjcmVlbiwgd2FpdEZvcn0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vTGlzdCc7XG5pbXBvcnQge2dldENvbnRhY3RzfSBmcm9tICcuLi8uLi9hcGlzL2NvbnRhY3QnO1xuaW1wb3J0IHtBeGlvc1Jlc3BvbnNlfSBmcm9tICdheGlvcyc7XG5pbXBvcnQge1N0YWNrTmF2aWdhdGlvblByb3B9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrJztcbmltcG9ydCB7Um9vdFN0YWNrUGFyYW1MaXN0fSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge3JlbmRlcldpdGhQcm92aWRlcnN9IGZyb20gJy4uLy4uL3V0aWxzL3Rlc3QtdXRpbHMnO1xuXG5qZXN0Lm1vY2soJy4uLy4uL2FwaXMvY29udGFjdCcsICgpID0+ICh7XG4gIGdldENvbnRhY3RzOiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJywgKCkgPT4gKHtcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnKSxcbiAgdXNlSXNGb2N1c2VkOiBqZXN0LmZuKCksXG59KSk7XG5cbnR5cGUgTmF2aWdhdGlvblByb3BzID0gU3RhY2tOYXZpZ2F0aW9uUHJvcDxSb290U3RhY2tQYXJhbUxpc3QsICdMaXN0Jz47XG5cbmNvbnN0IGNyZWF0ZVRlc3RQcm9wcyA9IChwcm9wczogUGFydGlhbDxOYXZpZ2F0aW9uUHJvcHM+KSA9PiAoe1xuICBuYXZpZ2F0aW9uOiB7XG4gICAgbmF2aWdhdGU6IGplc3QuZm4oKSxcbiAgICAuLi5wcm9wcyxcbiAgfSBhcyBOYXZpZ2F0aW9uUHJvcHMsXG4gIC4uLnByb3BzLFxufSk7XG5cbmRlc2NyaWJlKCdMaXN0JywgKCkgPT4ge1xuICB0ZXN0KCdyZW5kZXJzIGNvcnJlY3RseSBhbmQgZmV0Y2hlcyBjb250YWN0cycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrQ29udGFjdHMgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnMTExJyxcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAgICAgICAgYWdlOiAyMCxcbiAgICAgICAgcGhvdG86ICdodHRwczovL3BpY3N1bS5waG90b3MvMjAwJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMjIyJyxcbiAgICAgICAgZmlyc3ROYW1lOiAnSmFuZScsXG4gICAgICAgIGxhc3ROYW1lOiAnU21pdGgnLFxuICAgICAgICBhZ2U6IDIwLFxuICAgICAgICBwaG90bzogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy8yMDAnLFxuICAgICAgfSxcbiAgICBdO1xuICAgIGNvbnN0IG1vY2tlZEdldENvbnRhY3RzID0gZ2V0Q29udGFjdHMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxcbiAgICAgIHR5cGVvZiBnZXRDb250YWN0c1xuICAgID47XG4gICAgbW9ja2VkR2V0Q29udGFjdHMubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIGRhdGE6IHtkYXRhOiBtb2NrQ29udGFjdHN9LFxuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgfSBhcyBBeGlvc1Jlc3BvbnNlKTtcblxuICAgIGNvbnN0IHByb3BzID0gY3JlYXRlVGVzdFByb3BzKHt9KTtcbiAgICBjb25zdCB7Z2V0QnlUZXh0fSA9IHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICA8TGlzdCByb3V0ZT17e2tleTogJ0xpc3QnLCBuYW1lOiAnTGlzdCd9fSB7Li4ucHJvcHN9IC8+LFxuICAgICk7XG5cbiAgICBzY3JlZW4uZGVidWcoKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnQ29udGFjdCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdKb2huIERvZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdKYW5lIFNtaXRoJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChnZXRDb250YWN0cykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICB0ZXN0KCdkaXNwbGF5cyBlcnJvciBtZXNzYWdlIHdoZW4gZmV0Y2hpbmcgY29udGFjdHMgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja2VkR2V0Q29udGFjdHMgPSBnZXRDb250YWN0cyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPFxuICAgICAgdHlwZW9mIGdldENvbnRhY3RzXG4gICAgPjtcbiAgICBtb2NrZWRHZXRDb250YWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgZGF0YToge2RhdGE6IG51bGx9LFxuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgfSBhcyBBeGlvc1Jlc3BvbnNlKTtcblxuICAgIGNvbnN0IHtnZXRCeVRleHR9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyhcbiAgICAgIDxMaXN0IHJvdXRlPXt7a2V5OiAnTGlzdCcsIG5hbWU6ICdMaXN0J319IHsuLi5wcm9wc30gLz4sXG4gICAgKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVUcnV0aHkoKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRXJyb3InKSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnc29tZXRoaW5nIHdlbnQgd3JvbmcnKSkudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGdldENvbnRhY3RzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQVNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtFQUFBLE9BQU87SUFDckNDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDdkIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUVISixXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRTtFQUFBLE9BQUFJLE1BQUEsQ0FBQUMsTUFBQSxLQUNqQ0gsSUFBSSxDQUFDSSxhQUFhLENBQUMsMEJBQTBCLENBQUM7SUFDakRDLFlBQVksRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFBQztBQUFBLENBQ3ZCLENB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