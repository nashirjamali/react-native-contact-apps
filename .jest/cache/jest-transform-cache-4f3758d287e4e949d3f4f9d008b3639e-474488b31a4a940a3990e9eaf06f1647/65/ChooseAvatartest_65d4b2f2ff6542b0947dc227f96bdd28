529d525c29ca8af3e621940f8825db3c
_getJestObj().mock('../../apis/contact', function () {
  return {
    postContact: jest.fn(),
    putContact: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _configureStore = _interopRequireDefault(require("../redux/configureStore"));
var _ChooseAvatar = _interopRequireDefault(require("../components/ChooseAvatar"));
var _contact = require("../../apis/contact");
var _testUtils = require("../../utils/test-utils");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var store = (0, _configureStore.default)();
var createTestProps = function createTestProps(props) {
  return Object.assign({
    navigation: Object.assign({
      navigate: jest.fn()
    }, props)
  }, props);
};
describe('ChooseAvatar', function () {
  test('navigates to List screen after successful contact creation', (0, _asyncToGenerator2.default)(function* () {
    var props = createTestProps({});
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_ChooseAvatar.default, Object.assign({
        route: {
          key: 'ChooseAvatar',
          name: 'ChooseAvatar',
          params: {
            isEdit: false
          }
        }
      }, props))),
      getByPlaceholderText = _renderWithProviders.getByPlaceholderText,
      getByLabelText = _renderWithProviders.getByLabelText;
    _reactNative.fireEvent.press(getByLabelText('button-save'));
    yield (0, _reactNative.waitFor)(function () {
      expect(_contact.postContact).toHaveBeenCalledTimes(1);
      expect(props.navigation.navigate).toHaveBeenCalledWith('List');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwb3N0Q29udGFjdCIsImplc3QiLCJmbiIsInB1dENvbnRhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9jb25maWd1cmVTdG9yZSIsIl9DaG9vc2VBdmF0YXIiLCJfY29udGFjdCIsIl90ZXN0VXRpbHMiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwic3RvcmUiLCJjb25maWd1cmVTdG9yZSIsImNyZWF0ZVRlc3RQcm9wcyIsInByb3BzIiwiT2JqZWN0IiwiYXNzaWduIiwibmF2aWdhdGlvbiIsIm5hdmlnYXRlIiwiZGVzY3JpYmUiLCJ0ZXN0IiwiZGVmYXVsdCIsIl9yZW5kZXJXaXRoUHJvdmlkZXJzIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsImpzeCIsInJvdXRlIiwia2V5IiwibmFtZSIsInBhcmFtcyIsImlzRWRpdCIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwiZ2V0QnlMYWJlbFRleHQiLCJmaXJlRXZlbnQiLCJwcmVzcyIsIndhaXRGb3IiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCJdLCJzb3VyY2VzIjpbIkNob29zZUF2YXRhci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtyZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvcn0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IGNvbmZpZ3VyZVN0b3JlIGZyb20gJy4uL3JlZHV4L2NvbmZpZ3VyZVN0b3JlJztcbmltcG9ydCBDaG9vc2VBdmF0YXIgZnJvbSAnLi4vY29tcG9uZW50cy9DaG9vc2VBdmF0YXInO1xuaW1wb3J0IHtwb3N0Q29udGFjdCwgcHV0Q29udGFjdH0gZnJvbSAnLi4vLi4vYXBpcy9jb250YWN0JztcbmltcG9ydCB7U3RhY2tOYXZpZ2F0aW9uUHJvcH0gZnJvbSAnQHJlYWN0LW5hdmlnYXRpb24vc3RhY2snO1xuaW1wb3J0IHtSb290U3RhY2tQYXJhbUxpc3R9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7cmVuZGVyV2l0aFByb3ZpZGVyc30gZnJvbSAnLi4vLi4vdXRpbHMvdGVzdC11dGlscyc7XG5cbmNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoKTtcblxuamVzdC5tb2NrKCcuLi8uLi9hcGlzL2NvbnRhY3QnLCAoKSA9PiAoe1xuICBwb3N0Q29udGFjdDogamVzdC5mbigpLFxuICBwdXRDb250YWN0OiBqZXN0LmZuKCksXG59KSk7XG5cbnR5cGUgTmF2aWdhdGlvblByb3BzID0gU3RhY2tOYXZpZ2F0aW9uUHJvcDxSb290U3RhY2tQYXJhbUxpc3QsICdDaG9vc2VBdmF0YXInPjtcblxuY29uc3QgY3JlYXRlVGVzdFByb3BzID0gKHByb3BzOiBQYXJ0aWFsPE5hdmlnYXRpb25Qcm9wcz4pID0+ICh7XG4gIG5hdmlnYXRpb246IHtcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICAgIC4uLnByb3BzLFxuICB9IGFzIE5hdmlnYXRpb25Qcm9wcyxcbiAgLi4ucHJvcHMsXG59KTtcblxuZGVzY3JpYmUoJ0Nob29zZUF2YXRhcicsICgpID0+IHtcbiAgdGVzdCgnbmF2aWdhdGVzIHRvIExpc3Qgc2NyZWVuIGFmdGVyIHN1Y2Nlc3NmdWwgY29udGFjdCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IGNyZWF0ZVRlc3RQcm9wcyh7fSk7XG4gICAgY29uc3Qge2dldEJ5UGxhY2Vob2xkZXJUZXh0LCBnZXRCeUxhYmVsVGV4dH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgPENob29zZUF2YXRhclxuICAgICAgICByb3V0ZT17e1xuICAgICAgICAgIGtleTogJ0Nob29zZUF2YXRhcicsXG4gICAgICAgICAgbmFtZTogJ0Nob29zZUF2YXRhcicsXG4gICAgICAgICAgcGFyYW1zOiB7aXNFZGl0OiBmYWxzZX0sXG4gICAgICAgIH19XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+LFxuICAgICk7XG5cbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlMYWJlbFRleHQoJ2J1dHRvbi1zYXZlJykpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocG9zdENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChwcm9wcy5uYXZpZ2F0aW9uLm5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTGlzdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAgIHRlc3QoJ25hdmlnYXRlcyB0byBMaXN0IHNjcmVlbiBhZnRlciBzdWNjZXNzZnVsIGNvbnRhY3QgdXBkYXRlJywgYXN5bmMgKCkgPT4ge1xuICAvLyAgICAgY29uc3QgbmF2aWdhdGlvbk1vY2sgPSB7cmVwbGFjZTogamVzdC5mbigpfTtcbiAgLy8gICAgIGNvbnN0IHJvdXRlID0ge3BhcmFtczoge2lzRWRpdDogdHJ1ZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBnZXRCeVRleHQoJ1VwZGF0ZScpO1xuXG4gIC8vICAgICBmaXJlRXZlbnQucHJlc3ModXBkYXRlQnV0dG9uKTtcblxuICAvLyAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gIC8vICAgICAgIGV4cGVjdChwdXRDb250YWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIC8vICAgICAgIGV4cGVjdChuYXZpZ2F0aW9uTW9jay5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTGlzdCcpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfSk7XG5cbiAgLy8gICB0ZXN0KCdkaXNwbGF5cyBlcnJvciBtZXNzYWdlIHdoZW4gY29udGFjdCBjcmVhdGlvbiBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IGZhbHNlfX07XG4gIC8vICAgICBjb25zdCB7Z2V0QnlUZXh0fSA9IHJlbmRlcihcbiAgLy8gICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gIC8vICAgICAgICAgPENob29zZUF2YXRhciBuYXZpZ2F0aW9uPXtuYXZpZ2F0aW9uTW9ja30gcm91dGU9e3JvdXRlfSAvPlxuICAvLyAgICAgICA8L1Byb3ZpZGVyPixcbiAgLy8gICAgICk7XG5cbiAgLy8gICAgIGNvbnN0IHNhdmVCdXR0b24gPSBnZXRCeVRleHQoJ1NhdmUnKTtcblxuICAvLyAgICAgcG9zdENvbnRhY3QubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBjb250YWN0JykpO1xuXG4gIC8vICAgICBmaXJlRXZlbnQucHJlc3Moc2F2ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocG9zdENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgLy8gICAgICAgZXhwZWN0KG5hdmlnYXRpb25Nb2NrLnJlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0Vycm9yJykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRmFpbGVkIHRvIGNyZWF0ZSBjb250YWN0JykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xuXG4gIC8vICAgdGVzdCgnZGlzcGxheXMgZXJyb3IgbWVzc2FnZSB3aGVuIGNvbnRhY3QgdXBkYXRlIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAvLyAgICAgY29uc3QgbmF2aWdhdGlvbk1vY2sgPSB7cmVwbGFjZTogamVzdC5mbigpfTtcbiAgLy8gICAgIGNvbnN0IHJvdXRlID0ge3BhcmFtczoge2lzRWRpdDogdHJ1ZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBnZXRCeVRleHQoJ1VwZGF0ZScpO1xuXG4gIC8vICAgICBwdXRDb250YWN0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgY29udGFjdCcpKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHVwZGF0ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocHV0Q29udGFjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAvLyAgICAgICBleHBlY3QobmF2aWdhdGlvbk1vY2sucmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRXJyb3InKSkudG9CZVRydXRoeSgpO1xuICAvLyAgICAgICBleHBlY3QoZ2V0QnlUZXh0KCdGYWlsZWQgdG8gdXBkYXRlIGNvbnRhY3QnKSkudG9CZVRydXRoeSgpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBWUFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9CQUFvQixFQUFFO0VBQUEsT0FBTztJQUNyQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCQyxVQUFVLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3RCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBRSxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQWZKLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQUVBLElBQUFJLGVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGFBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFFBQUEsR0FBQU4sT0FBQTtBQUdBLElBQUFPLFVBQUEsR0FBQVAsT0FBQTtBQUEyRCxJQUFBUSxXQUFBLEdBQUFSLE9BQUE7QUFBQSxTQUFBUCxZQUFBO0VBQUEsSUFBQWdCLFFBQUEsR0FBQVQsT0FBQTtJQUFBSixJQUFBLEdBQUFhLFFBQUEsQ0FBQWIsSUFBQTtFQUFBSCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBRyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFFM0QsSUFBTWMsS0FBSyxHQUFHLElBQUFDLHVCQUFjLEVBQUMsQ0FBQztBQVM5QixJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUlDLEtBQStCO0VBQUEsT0FBQUMsTUFBQSxDQUFBQyxNQUFBO0lBQ3REQyxVQUFVLEVBQUFGLE1BQUEsQ0FBQUMsTUFBQTtNQUNSRSxRQUFRLEVBQUVyQixJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUFDLEdBQ2hCZ0IsS0FBSztFQUNVLEdBQ2pCQSxLQUFLO0FBQUEsQ0FDUjtBQUVGSyxRQUFRLENBQUMsY0FBYyxFQUFFLFlBQU07RUFDN0JDLElBQUksQ0FBQyw0REFBNEQsTUFBQWxCLGtCQUFBLENBQUFtQixPQUFBLEVBQUUsYUFBWTtJQUM3RSxJQUFNUCxLQUFLLEdBQUdELGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxJQUFBUyxvQkFBQSxHQUErQyxJQUFBQyw4QkFBbUIsRUFDaEUsSUFBQWQsV0FBQSxDQUFBZSxHQUFBLEVBQUNsQixhQUFBLENBQUFlLE9BQVksRUFBQU4sTUFBQSxDQUFBQyxNQUFBO1FBQ1hTLEtBQUssRUFBRTtVQUNMQyxHQUFHLEVBQUUsY0FBYztVQUNuQkMsSUFBSSxFQUFFLGNBQWM7VUFDcEJDLE1BQU0sRUFBRTtZQUFDQyxNQUFNLEVBQUU7VUFBSztRQUN4QjtNQUFFLEdBQ0VmLEtBQUssQ0FDVixDQUNILENBQUM7TUFUTWdCLG9CQUFvQixHQUFBUixvQkFBQSxDQUFwQlEsb0JBQW9CO01BQUVDLGNBQWMsR0FBQVQsb0JBQUEsQ0FBZFMsY0FBYztJQVczQ0Msc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDRixjQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFOUMsTUFBTSxJQUFBRyxvQkFBTyxFQUFDLFlBQU07TUFDbEJDLE1BQU0sQ0FBQ3ZDLG9CQUFXLENBQUMsQ0FBQ3dDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztNQUM1Q0QsTUFBTSxDQUFDckIsS0FBSyxDQUFDRyxVQUFVLENBQUNDLFFBQVEsQ0FBQyxDQUFDbUIsb0JBQW9CLENBQUMsTUFBTSxDQUFDO0lBQ2hFLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBQztBQWtFSixDQUFDLENBQUMifQ==