{"version":3,"names":["_getJestObj","mock","getContacts","jest","fn","_interopRequireDefault","require","_asyncToGenerator2","_react","_reactNative","_List","_contact","_testUtils","_jsxRuntime","_require","createTestProps","props","Object","assign","navigation","navigate","describe","test","default","mockContacts","id","firstName","lastName","age","photo","mockedGetContacts","mockResolvedValueOnce","data","status","_renderWithProviders","renderWithProviders","jsx","route","key","name","getByText","waitFor","expect","toBeTruthy","toHaveBeenCalledTimes"],"sources":["List.test.tsx"],"sourcesContent":["import React from 'react';\nimport {render, waitFor} from '@testing-library/react-native';\nimport List from '../List';\nimport {getContacts} from '../../apis/contact';\nimport {AxiosResponse} from 'axios';\nimport {StackNavigationProp} from '@react-navigation/stack';\nimport {RootStackParamList} from '../../types';\nimport {renderWithProviders} from '../../utils/test-utils';\n\njest.mock('../apis/contact', () => ({\n  getContacts: jest.fn(),\n}));\n\ntype NavigationProps = StackNavigationProp<RootStackParamList, 'List'>;\n\nconst createTestProps = (props: Partial<NavigationProps>) => ({\n  navigation: {\n    navigate: jest.fn(),\n    ...props,\n  } as NavigationProps,\n  ...props,\n});\n\ndescribe('List', () => {\n  test('renders correctly and fetches contacts', async () => {\n    const mockContacts = [\n      {id: '111', firstName: 'John', lastName: 'Doe', age: 20, photo: ''},\n      {id: '222', firstName: 'Jane', lastName: 'Smith', age: 20, photo: ''},\n    ];\n    const mockedGetContacts = getContacts as jest.MockedFunction<\n      typeof getContacts\n    >;\n    mockedGetContacts.mockResolvedValueOnce({\n      data: {data: mockContacts},\n      status: 200,\n    } as AxiosResponse);\n\n    const props = createTestProps({});\n    const {getByText} = renderWithProviders(\n      <List route={{key: 'List', name: 'List'}} {...props} />,\n    );\n\n    // Wait for contacts to be fetched and rendered\n    await waitFor(() => {\n      expect(getByText('Contact')).toBeTruthy();\n      expect(getByText('John Doe')).toBeTruthy();\n      expect(getByText('Jane Smith')).toBeTruthy();\n    });\n\n    // Verify that getContacts is called\n    expect(getContacts).toHaveBeenCalledTimes(1);\n  });\n\n  //   test('displays error message when fetching contacts fails', async () => {\n  //     getContacts.mockResolvedValueOnce({\n  //       data: null,\n  //       status: 500,\n  //     });\n\n  //     const {getByText} = render(<List />);\n\n  //     // Loading state is displayed initially\n  //     expect(getByText('Loading...')).toBeTruthy();\n\n  //     // Wait for error message to be displayed\n  //     await waitFor(() => {\n  //       expect(getByText('Error')).toBeTruthy();\n  //       expect(getByText('something went wrong')).toBeTruthy();\n  //     });\n\n  //     // Verify that getContacts is called\n  //     expect(getContacts).toHaveBeenCalledTimes(1);\n  //   });\n});\n"],"mappings":"AASAA,WAAA,GAAKC,IAAI,CAAC,iBAAiB,EAAE;EAAA,OAAO;IAClCC,WAAW,EAAEC,IAAI,CAACC,EAAE,CAAC;EACvB,CAAC;AAAA,CAAC,CAAC;AAAC,IAAAC,sBAAA,GAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAXJ,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AAIA,IAAAM,UAAA,GAAAN,OAAA;AAA2D,IAAAO,WAAA,GAAAP,OAAA;AAAA,SAAAN,YAAA;EAAA,IAAAc,QAAA,GAAAR,OAAA;IAAAH,IAAA,GAAAW,QAAA,CAAAX,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAQ3D,IAAMY,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAA+B;EAAA,OAAAC,MAAA,CAAAC,MAAA;IACtDC,UAAU,EAAAF,MAAA,CAAAC,MAAA;MACRE,QAAQ,EAAEjB,IAAI,CAACC,EAAE,CAAC;IAAC,GAChBY,KAAK;EACU,GACjBA,KAAK;AAAA,CACR;AAEFK,QAAQ,CAAC,MAAM,EAAE,YAAM;EACrBC,IAAI,CAAC,wCAAwC,MAAAf,kBAAA,CAAAgB,OAAA,EAAE,aAAY;IACzD,IAAMC,YAAY,GAAG,CACnB;MAACC,EAAE,EAAE,KAAK;MAAEC,SAAS,EAAE,MAAM;MAAEC,QAAQ,EAAE,KAAK;MAAEC,GAAG,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAC,EACnE;MAACJ,EAAE,EAAE,KAAK;MAAEC,SAAS,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,GAAG,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAC,CACtE;IACD,IAAMC,iBAAiB,GAAG5B,oBAEzB;IACD4B,iBAAiB,CAACC,qBAAqB,CAAC;MACtCC,IAAI,EAAE;QAACA,IAAI,EAAER;MAAY,CAAC;MAC1BS,MAAM,EAAE;IACV,CAAkB,CAAC;IAEnB,IAAMjB,KAAK,GAAGD,eAAe,CAAC,CAAC,CAAC,CAAC;IACjC,IAAAmB,oBAAA,GAAoB,IAAAC,8BAAmB,EACrC,IAAAtB,WAAA,CAAAuB,GAAA,EAAC1B,KAAA,CAAAa,OAAI,EAAAN,MAAA,CAAAC,MAAA;QAACmB,KAAK,EAAE;UAACC,GAAG,EAAE,MAAM;UAAEC,IAAI,EAAE;QAAM;MAAE,GAAKvB,KAAK,CAAG,CACxD,CAAC;MAFMwB,SAAS,GAAAN,oBAAA,CAATM,SAAS;IAKhB,MAAM,IAAAC,oBAAO,EAAC,YAAM;MAClBC,MAAM,CAACF,SAAS,CAAC,SAAS,CAAC,CAAC,CAACG,UAAU,CAAC,CAAC;MACzCD,MAAM,CAACF,SAAS,CAAC,UAAU,CAAC,CAAC,CAACG,UAAU,CAAC,CAAC;MAC1CD,MAAM,CAACF,SAAS,CAAC,YAAY,CAAC,CAAC,CAACG,UAAU,CAAC,CAAC;IAC9C,CAAC,CAAC;IAGFD,MAAM,CAACxC,oBAAW,CAAC,CAAC0C,qBAAqB,CAAC,CAAC,CAAC;EAC9C,CAAC,EAAC;AAsBJ,CAAC,CAAC"}