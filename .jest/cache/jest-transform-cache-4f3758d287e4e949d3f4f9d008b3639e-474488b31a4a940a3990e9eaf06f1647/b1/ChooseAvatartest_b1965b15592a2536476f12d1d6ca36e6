f61f7faec3216f051ec37515b72ac322
_getJestObj().mock('../../apis/contact', function () {
  return {
    postContact: jest.fn(),
    putContact: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ChooseAvatar = _interopRequireDefault(require("../ChooseAvatar"));
var _contact = require("../../apis/contact");
var _testUtils = require("../../utils/test-utils");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var createTestProps = function createTestProps(props) {
  return Object.assign({
    navigation: Object.assign({
      navigate: jest.fn()
    }, props)
  }, props);
};
describe('ChooseAvatar', function () {
  test('navigates to List screen after successful contact creation', (0, _asyncToGenerator2.default)(function* () {
    var props = createTestProps({});
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_ChooseAvatar.default, Object.assign({
        route: {
          key: 'ChooseAvatar',
          name: 'ChooseAvatar',
          params: {
            isEdit: false
          }
        }
      }, props))),
      getByPlaceholderText = _renderWithProviders.getByPlaceholderText,
      getByLabelText = _renderWithProviders.getByLabelText,
      getAllByTestId = _renderWithProviders.getAllByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getAllByTestId('avatar-image')[0]).toBeTruthy();
      expect(getByLabelText('button-save')).toBeTruthy();
    });
    _reactNative.fireEvent.press(getAllByTestId('avatar-image')[0]);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByLabelText('button-save').props.accessibilityState.disabled).toBe(false);
    });
    _reactNative.fireEvent.press(getByLabelText('button-save'));
    yield (0, _reactNative.waitFor)(function () {
      expect(_contact.postContact).toHaveBeenCalledTimes(1);
      expect(props.navigation.navigate).toHaveBeenCalledWith('List');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwb3N0Q29udGFjdCIsImplc3QiLCJmbiIsInB1dENvbnRhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9DaG9vc2VBdmF0YXIiLCJfY29udGFjdCIsIl90ZXN0VXRpbHMiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiY3JlYXRlVGVzdFByb3BzIiwicHJvcHMiLCJPYmplY3QiLCJhc3NpZ24iLCJuYXZpZ2F0aW9uIiwibmF2aWdhdGUiLCJkZXNjcmliZSIsInRlc3QiLCJkZWZhdWx0IiwiX3JlbmRlcldpdGhQcm92aWRlcnMiLCJyZW5kZXJXaXRoUHJvdmlkZXJzIiwianN4Iiwicm91dGUiLCJrZXkiLCJuYW1lIiwicGFyYW1zIiwiaXNFZGl0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJnZXRCeUxhYmVsVGV4dCIsImdldEFsbEJ5VGVzdElkIiwid2FpdEZvciIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJmaXJlRXZlbnQiLCJwcmVzcyIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImRpc2FibGVkIiwidG9CZSIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIl0sInNvdXJjZXMiOlsiQ2hvb3NlQXZhdGFyLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICByZW5kZXIsXG4gIGZpcmVFdmVudCxcbiAgd2FpdEZvcixcbiAgc2NyZWVuLFxufSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2hvb3NlQXZhdGFyIGZyb20gJy4uL0Nob29zZUF2YXRhcic7XG5pbXBvcnQge3Bvc3RDb250YWN0LCBwdXRDb250YWN0fSBmcm9tICcuLi8uLi9hcGlzL2NvbnRhY3QnO1xuaW1wb3J0IHtTdGFja05hdmlnYXRpb25Qcm9wfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9zdGFjayc7XG5pbXBvcnQge1Jvb3RTdGFja1BhcmFtTGlzdH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHtyZW5kZXJXaXRoUHJvdmlkZXJzfSBmcm9tICcuLi8uLi91dGlscy90ZXN0LXV0aWxzJztcblxuamVzdC5tb2NrKCcuLi8uLi9hcGlzL2NvbnRhY3QnLCAoKSA9PiAoe1xuICBwb3N0Q29udGFjdDogamVzdC5mbigpLFxuICBwdXRDb250YWN0OiBqZXN0LmZuKCksXG59KSk7XG5cbnR5cGUgTmF2aWdhdGlvblByb3BzID0gU3RhY2tOYXZpZ2F0aW9uUHJvcDxSb290U3RhY2tQYXJhbUxpc3QsICdDaG9vc2VBdmF0YXInPjtcblxuY29uc3QgY3JlYXRlVGVzdFByb3BzID0gKHByb3BzOiBQYXJ0aWFsPE5hdmlnYXRpb25Qcm9wcz4pID0+ICh7XG4gIG5hdmlnYXRpb246IHtcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICAgIC4uLnByb3BzLFxuICB9IGFzIE5hdmlnYXRpb25Qcm9wcyxcbiAgLi4ucHJvcHMsXG59KTtcblxuZGVzY3JpYmUoJ0Nob29zZUF2YXRhcicsICgpID0+IHtcbiAgdGVzdCgnbmF2aWdhdGVzIHRvIExpc3Qgc2NyZWVuIGFmdGVyIHN1Y2Nlc3NmdWwgY29udGFjdCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IGNyZWF0ZVRlc3RQcm9wcyh7fSk7XG4gICAgY29uc3Qge2dldEJ5UGxhY2Vob2xkZXJUZXh0LCBnZXRCeUxhYmVsVGV4dCwgZ2V0QWxsQnlUZXN0SWR9ID1cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoXG4gICAgICAgIDxDaG9vc2VBdmF0YXJcbiAgICAgICAgICByb3V0ZT17e1xuICAgICAgICAgICAga2V5OiAnQ2hvb3NlQXZhdGFyJyxcbiAgICAgICAgICAgIG5hbWU6ICdDaG9vc2VBdmF0YXInLFxuICAgICAgICAgICAgcGFyYW1zOiB7aXNFZGl0OiBmYWxzZX0sXG4gICAgICAgICAgfX1cbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEFsbEJ5VGVzdElkKCdhdmF0YXItaW1hZ2UnKVswXSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGdldEJ5TGFiZWxUZXh0KCdidXR0b24tc2F2ZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QWxsQnlUZXN0SWQoJ2F2YXRhci1pbWFnZScpWzBdKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZXRCeUxhYmVsVGV4dCgnYnV0dG9uLXNhdmUnKS5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGUuZGlzYWJsZWQsXG4gICAgICApLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5TGFiZWxUZXh0KCdidXR0b24tc2F2ZScpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHBvc3RDb250YWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBleHBlY3QocHJvcHMubmF2aWdhdGlvbi5uYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xpc3QnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gICB0ZXN0KCduYXZpZ2F0ZXMgdG8gTGlzdCBzY3JlZW4gYWZ0ZXIgc3VjY2Vzc2Z1bCBjb250YWN0IHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IHRydWV9fTtcbiAgLy8gICAgIGNvbnN0IHtnZXRCeVRleHR9ID0gcmVuZGVyKFxuICAvLyAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgLy8gICAgICAgICA8Q2hvb3NlQXZhdGFyIG5hdmlnYXRpb249e25hdmlnYXRpb25Nb2NrfSByb3V0ZT17cm91dGV9IC8+XG4gIC8vICAgICAgIDwvUHJvdmlkZXI+LFxuICAvLyAgICAgKTtcblxuICAvLyAgICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZ2V0QnlUZXh0KCdVcGRhdGUnKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHVwZGF0ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocHV0Q29udGFjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAvLyAgICAgICBleHBlY3QobmF2aWdhdGlvbk1vY2sucmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xpc3QnKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xuXG4gIC8vICAgdGVzdCgnZGlzcGxheXMgZXJyb3IgbWVzc2FnZSB3aGVuIGNvbnRhY3QgY3JlYXRpb24gZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gIC8vICAgICBjb25zdCBuYXZpZ2F0aW9uTW9jayA9IHtyZXBsYWNlOiBqZXN0LmZuKCl9O1xuICAvLyAgICAgY29uc3Qgcm91dGUgPSB7cGFyYW1zOiB7aXNFZGl0OiBmYWxzZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCBzYXZlQnV0dG9uID0gZ2V0QnlUZXh0KCdTYXZlJyk7XG5cbiAgLy8gICAgIHBvc3RDb250YWN0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udGFjdCcpKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHNhdmVCdXR0b24pO1xuXG4gIC8vICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgLy8gICAgICAgZXhwZWN0KHBvc3RDb250YWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIC8vICAgICAgIGV4cGVjdChuYXZpZ2F0aW9uTW9jay5yZXBsYWNlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAvLyAgICAgICBleHBlY3QoZ2V0QnlUZXh0KCdFcnJvcicpKS50b0JlVHJ1dGh5KCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0ZhaWxlZCB0byBjcmVhdGUgY29udGFjdCcpKS50b0JlVHJ1dGh5KCk7XG4gIC8vICAgICB9KTtcbiAgLy8gICB9KTtcblxuICAvLyAgIHRlc3QoJ2Rpc3BsYXlzIGVycm9yIG1lc3NhZ2Ugd2hlbiBjb250YWN0IHVwZGF0ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IHRydWV9fTtcbiAgLy8gICAgIGNvbnN0IHtnZXRCeVRleHR9ID0gcmVuZGVyKFxuICAvLyAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgLy8gICAgICAgICA8Q2hvb3NlQXZhdGFyIG5hdmlnYXRpb249e25hdmlnYXRpb25Nb2NrfSByb3V0ZT17cm91dGV9IC8+XG4gIC8vICAgICAgIDwvUHJvdmlkZXI+LFxuICAvLyAgICAgKTtcblxuICAvLyAgICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZ2V0QnlUZXh0KCdVcGRhdGUnKTtcblxuICAvLyAgICAgcHV0Q29udGFjdC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGNvbnRhY3QnKSk7XG5cbiAgLy8gICAgIGZpcmVFdmVudC5wcmVzcyh1cGRhdGVCdXR0b24pO1xuXG4gIC8vICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgLy8gICAgICAgZXhwZWN0KHB1dENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgLy8gICAgICAgZXhwZWN0KG5hdmlnYXRpb25Nb2NrLnJlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0Vycm9yJykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRmFpbGVkIHRvIHVwZGF0ZSBjb250YWN0JykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQWNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtFQUFBLE9BQU87SUFDckNDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUN0QkMsVUFBVSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUUsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFqQkosSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBT0EsSUFBQUksYUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssUUFBQSxHQUFBTCxPQUFBO0FBR0EsSUFBQU0sVUFBQSxHQUFBTixPQUFBO0FBQTJELElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFQLFlBQUE7RUFBQSxJQUFBZSxRQUFBLEdBQUFSLE9BQUE7SUFBQUosSUFBQSxHQUFBWSxRQUFBLENBQUFaLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBUzNELElBQU1hLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBSUMsS0FBK0I7RUFBQSxPQUFBQyxNQUFBLENBQUFDLE1BQUE7SUFDdERDLFVBQVUsRUFBQUYsTUFBQSxDQUFBQyxNQUFBO01BQ1JFLFFBQVEsRUFBRWxCLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQUMsR0FDaEJhLEtBQUs7RUFDVSxHQUNqQkEsS0FBSztBQUFBLENBQ1I7QUFFRkssUUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNO0VBQzdCQyxJQUFJLENBQUMsNERBQTRELE1BQUFmLGtCQUFBLENBQUFnQixPQUFBLEVBQUUsYUFBWTtJQUM3RSxJQUFNUCxLQUFLLEdBQUdELGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxJQUFBUyxvQkFBQSxHQUNFLElBQUFDLDhCQUFtQixFQUNqQixJQUFBWixXQUFBLENBQUFhLEdBQUEsRUFBQ2hCLGFBQUEsQ0FBQWEsT0FBWSxFQUFBTixNQUFBLENBQUFDLE1BQUE7UUFDWFMsS0FBSyxFQUFFO1VBQ0xDLEdBQUcsRUFBRSxjQUFjO1VBQ25CQyxJQUFJLEVBQUUsY0FBYztVQUNwQkMsTUFBTSxFQUFFO1lBQUNDLE1BQU0sRUFBRTtVQUFLO1FBQ3hCO01BQUUsR0FDRWYsS0FBSyxDQUNWLENBQ0gsQ0FBQztNQVZJZ0Isb0JBQW9CLEdBQUFSLG9CQUFBLENBQXBCUSxvQkFBb0I7TUFBRUMsY0FBYyxHQUFBVCxvQkFBQSxDQUFkUyxjQUFjO01BQUVDLGNBQWMsR0FBQVYsb0JBQUEsQ0FBZFUsY0FBYztJQVkzRCxNQUFNLElBQUFDLG9CQUFPLEVBQUMsWUFBTTtNQUNsQkMsTUFBTSxDQUFDRixjQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0csVUFBVSxDQUFDLENBQUM7TUFDdERELE1BQU0sQ0FBQ0gsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUNJLFVBQVUsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQztJQUVGQyxzQkFBUyxDQUFDQyxLQUFLLENBQUNMLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVsRCxNQUFNLElBQUFDLG9CQUFPLEVBQUMsWUFBTTtNQUNsQkMsTUFBTSxDQUNKSCxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUNqQixLQUFLLENBQUN3QixrQkFBa0IsQ0FBQ0MsUUFDekQsQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0lBRUZKLHNCQUFTLENBQUNDLEtBQUssQ0FBQ04sY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRTlDLE1BQU0sSUFBQUUsb0JBQU8sRUFBQyxZQUFNO01BQ2xCQyxNQUFNLENBQUNuQyxvQkFBVyxDQUFDLENBQUMwQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7TUFDNUNQLE1BQU0sQ0FBQ3BCLEtBQUssQ0FBQ0csVUFBVSxDQUFDQyxRQUFRLENBQUMsQ0FBQ3dCLG9CQUFvQixDQUFDLE1BQU0sQ0FBQztJQUNoRSxDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7QUFrRUosQ0FBQyxDQUFDIn0=