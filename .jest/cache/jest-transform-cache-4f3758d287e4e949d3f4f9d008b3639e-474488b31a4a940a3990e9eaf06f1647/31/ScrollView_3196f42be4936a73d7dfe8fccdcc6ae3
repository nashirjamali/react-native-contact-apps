4253bdc064f8ba8254654434d002991c
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _View = _interopRequireDefault(require("../View/View"));
var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));
var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
if (_Platform.default.OS === 'ios') {
  require('../../Renderer/shims/ReactNative');
}
var _ref = _Platform.default.OS === 'android' ? {
    NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
  } : {
    NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
  },
  NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
  NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);
  var _super = _createSuper(ScrollView);
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._scrollView.nativeInstance);
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(_this._scrollView.nativeInstance, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(_this._scrollView.nativeInstance, animated);
    };
    _this.flashScrollIndicators = function () {
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollView.nativeInstance);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)((0, _assertThisInitialized2.default)(_this))), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(_this._scrollView.nativeInstance, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollView.nativeInstance, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
        _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
        NativeDirectionalScrollView = _ref3[0],
        NativeDirectionalScrollContentView = _ref3[1];
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeDirectionalScrollContentView, Object.assign({}, contentSizeChangeProps, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = Object.assign({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeDirectionalScrollView, Object.assign({}, props, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, Object.assign({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, Object.assign({}, props, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
  return ScrollView;
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, Object.assign({}, props, {
    scrollViewRef: ref
  }));
}
Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0ZyYW1lUmF0ZUxvZ2dlciIsIl9SZW5kZXJlclByb3h5IiwiX1VJTWFuYWdlciIsIl9mbGF0dGVuU3R5bGUiLCJfc3BsaXRMYXlvdXRQcm9wczIiLCJfU3R5bGVTaGVldCIsIl9EaW1lbnNpb25zIiwiX2Rpc21pc3NLZXlib2FyZCIsIl9QbGF0Zm9ybSIsIl9LZXlib2FyZCIsIl9UZXh0SW5wdXRTdGF0ZSIsIl9WaWV3IiwiX0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJfQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiX3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwiX1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiX1Njcm9sbFZpZXdDb21tYW5kcyIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9pbnZhcmlhbnQiLCJfbWVtb2l6ZU9uZSIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfanN4UnVudGltZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJlIiwiUGxhdGZvcm0iLCJPUyIsIl9yZWYiLCJOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlIiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIk5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlIiwiU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIlZpZXciLCJTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIklTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMiLCJTY3JvbGxWaWV3IiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0czIiLCJfc3VwZXIiLCJwcm9wcyIsIl90aGlzJHByb3BzJGNvbnRlbnRPZiIsIl90aGlzJHByb3BzJGNvbnRlbnRPZjIiLCJfdGhpcyRwcm9wcyRjb250ZW50SW4iLCJfdGhpcyRwcm9wcyRjb250ZW50SW4yIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50IiwiX3N0aWNreUhlYWRlclJlZnMiLCJNYXAiLCJfaGVhZGVyTGF5b3V0WXMiLCJfa2V5Ym9hcmRNZXRyaWNzIiwiX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQiLCJfaXNUb3VjaGluZyIsIl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUiLCJfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSIsIl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIiLCJfYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmciLCJfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiX2FuaW1hdGVkIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlIiwic3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkMiIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJfc2Nyb2xsVmlldyIsIm5hdGl2ZUluc3RhbmNlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsIl9pbm5lclZpZXciLCJnZXRJbm5lclZpZXdSZWYiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJzY3JvbGxUbyIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJ5IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsIkNvbW1hbmRzIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwibm9kZUhhbmRsZSIsImFkZGl0aW9uYWxPZmZzZXQiLCJwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJVSU1hbmFnZXIiLCJtZWFzdXJlTGF5b3V0IiwibnVsbHRocm93cyIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJyZWN0IiwiaW52YXJpYW50Iiwiem9vbVRvUmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImtleWJvYXJkU2NyZWVuWSIsIkRpbWVuc2lvbnMiLCJzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QiLCJzY3JlZW5ZIiwic2Nyb2xsT2Zmc2V0WSIsIk1hdGgiLCJtYXgiLCJzZXRUaW1lb3V0IiwiX2hhbmRsZVNjcm9sbCIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJfaGFuZGxlTGF5b3V0IiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInNldFN0YXRlIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9oYW5kbGVDb250ZW50T25MYXlvdXQiLCJfZSRuYXRpdmVFdmVudCRsYXlvdXQiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiY3JlYXRlUmVmRm9yd2FyZGVyIiwiaW5zdGFuY2UiLCJwdWJsaWNJbnN0YW5jZSIsImFzc2lnbiIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3ciLCJlbmRDb29yZGluYXRlcyIsIm9uS2V5Ym9hcmRXaWxsU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUiLCJvbktleWJvYXJkV2lsbEhpZGUiLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3ciLCJvbktleWJvYXJkRGlkU2hvdyIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSIsIm9uS2V5Ym9hcmREaWRIaWRlIiwiX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJnbG9iYWwiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZCIsIkZyYW1lUmF0ZUxvZ2dlciIsImVuZFNjcm9sbCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfaGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwiYmVnaW5TY3JvbGwiLCJrZXlib2FyZERpc21pc3NNb2RlIiwiZGlzbWlzc0tleWJvYXJkIiwib25TY3JvbGxCZWdpbkRyYWciLCJfaGFuZGxlU2Nyb2xsRW5kRHJhZyIsInZlbG9jaXR5IiwiX2lzQW5pbWF0aW5nIiwib25TY3JvbGxFbmREcmFnIiwidGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIiwiaXNBbmltYXRpbmciLCJfaGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlckdyYW50IiwiX2hhbmRsZVJlc3BvbmRlclJlamVjdCIsIl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwidG91Y2hlcyIsImxlbmd0aCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInRhcmdldCIsImVycm9yIiwiY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCIsIlRleHRJbnB1dFN0YXRlIiwiY3VycmVudGx5Rm9jdXNlZElucHV0Iiwia2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyIsIl9rZXlib2FyZElzRGlzbWlzc2libGUiLCJibHVyVGV4dElucHV0IiwiX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciIsIl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsIl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMiLCJfc29mdEtleWJvYXJkSXNEZXRhY2hlZCIsImlzVGV4dElucHV0IiwiaGFzRm9jdXNlZFRleHRJbnB1dCIsInNvZnRLZXlib2FyZE1heUJlT3BlbiIsIl9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGUiLCJWZXJzaW9uIiwiX2hhbmRsZVRvdWNoRW5kIiwia2V5Ym9hcmROZXZlclBlcnNpc3RzVGFwcyIsIm9uVG91Y2hFbmQiLCJfaGFuZGxlVG91Y2hDYW5jZWwiLCJvblRvdWNoQ2FuY2VsIiwiX2hhbmRsZVRvdWNoU3RhcnQiLCJvblRvdWNoU3RhcnQiLCJfaGFuZGxlVG91Y2hNb3ZlIiwib25Ub3VjaE1vdmUiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkSW1wbGVtZW50YXRpb24iLCJWYWx1ZSIsImNvbnRlbnRPZmZzZXQiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJfY3JlYXRlQ2xhc3MyIiwidmFsdWUiLCJjb21wb25lbnREaWRNb3VudCIsIktleWJvYXJkIiwibWV0cmljcyIsImFkZExpc3RlbmVyIiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2Q29udGVudEluc2V0VG9wIiwibmV3Q29udGVudEluc2V0VG9wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW1vdmUiLCJkZXRhY2giLCJfZ2V0S2V5Rm9ySW5kZXgiLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJyZWYiLCJkZWxldGUiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJldmVudCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImNoaWxkcmVuIiwibGF5b3V0WSIsImluZGV4T2ZJbmRleCIsImluZGV4T2YiLCJwcmV2aW91c0hlYWRlckluZGV4IiwicHJldmlvdXNIZWFkZXIiLCJzZXROZXh0SGVhZGVyWSIsInJlbmRlciIsIl90aGlzMiIsIl9yZWYyIiwiaG9yaXpvbnRhbCIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkyIiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50VmlldyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJmbGF0dGVuU3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwiZmlsdGVyIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsImpzeCIsIm5hdGl2ZUlEIiwibmV4dEhlYWRlckxheW91dFkiLCJzY3JvbGxBbmltYXRlZFZhbHVlIiwiaW52ZXJ0ZWQiLCJoaWRkZW5PblNjcm9sbCIsInN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsIiwic2Nyb2xsVmlld0hlaWdodCIsIlByb3ZpZGVyIiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwiaGFzU3RpY2t5SGVhZGVycyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRDb250YWluZXIiLCJnZXRGb3J3YXJkaW5nUmVmIiwiaW5uZXJWaWV3UmVmIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiY29sbGFwc2FibGUiLCJhbHdheXNCb3VuY2VIb3Jpem9udGFsIiwiYWx3YXlzQm91bmNlVmVydGljYWwiLCJiYXNlU3R5bGUiLCJiYXNlSG9yaXpvbnRhbCIsImJhc2VWZXJ0aWNhbCIsIlN0eWxlU2hlZXQiLCJjb21wb3NlIiwib25SZXNwb25kZXJSZWplY3QiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwic2VuZE1vbWVudHVtRXZlbnRzIiwic25hcFRvU3RhcnQiLCJzbmFwVG9FbmQiLCJwYWdpbmdFbmFibGVkIiwic2VsZWN0IiwiaW9zIiwic25hcFRvSW50ZXJ2YWwiLCJzbmFwVG9PZmZzZXRzIiwiYW5kcm9pZCIsImRlY2VsZXJhdGlvblJhdGUiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlZnJlc2hDb250cm9sIiwic2Nyb2xsVmlld1JlZiIsImpzeHMiLCJfc3BsaXRMYXlvdXRQcm9wcyIsInNwbGl0TGF5b3V0UHJvcHMiLCJvdXRlciIsImlubmVyIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwiQ29udGV4dCIsIlNjcm9sbFZpZXdDb250ZXh0IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwibXV0YXRvciIsIm1lbW9pemUiLCJmb3J3YXJkZWRSZWYiLCJjdXJyZW50IiwiV3JhcHBlciIsImRpc3BsYXlOYW1lIiwiRm9yd2FyZGVkU2Nyb2xsVmlldyIsImZvcndhcmRSZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU2Nyb2xsVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKi9cblxuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7UG9pbnRQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BvaW50UHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Q29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgTGF5b3V0RXZlbnQsXG4gIFByZXNzRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7RXZlbnRTdWJzY3JpcHRpb259IGZyb20gJy4uLy4uL3ZlbmRvci9lbWl0dGVyL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgdHlwZSB7S2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRNZXRyaWNzfSBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Byb3BzIGFzIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IEFuaW1hdGVkSW1wbGVtZW50YXRpb24gZnJvbSAnLi4vLi4vQW5pbWF0ZWQvQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbic7XG5pbXBvcnQgRnJhbWVSYXRlTG9nZ2VyIGZyb20gJy4uLy4uL0ludGVyYWN0aW9uL0ZyYW1lUmF0ZUxvZ2dlcic7XG5pbXBvcnQge2ZpbmROb2RlSGFuZGxlfSBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9SZW5kZXJlclByb3h5JztcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSAnLi4vLi4vUmVhY3ROYXRpdmUvVUlNYW5hZ2VyJztcbmltcG9ydCBmbGF0dGVuU3R5bGUgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnO1xuaW1wb3J0IHNwbGl0TGF5b3V0UHJvcHMgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9zcGxpdExheW91dFByb3BzJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgRGltZW5zaW9ucyBmcm9tICcuLi8uLi9VdGlsaXRpZXMvRGltZW5zaW9ucyc7XG5pbXBvcnQgZGlzbWlzc0tleWJvYXJkIGZyb20gJy4uLy4uL1V0aWxpdGllcy9kaXNtaXNzS2V5Ym9hcmQnO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IFRleHRJbnB1dFN0YXRlIGZyb20gJy4uL1RleHRJbnB1dC9UZXh0SW5wdXRTdGF0ZSc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIGZyb20gJy4vcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUnO1xuaW1wb3J0IFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IENvbW1hbmRzIGZyb20gJy4vU2Nyb2xsVmlld0NvbW1hbmRzJztcbmltcG9ydCBTY3JvbGxWaWV3Q29udGV4dCwge0hPUklaT05UQUwsIFZFUlRJQ0FMfSBmcm9tICcuL1Njcm9sbFZpZXdDb250ZXh0JztcbmltcG9ydCBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgU2Nyb2xsVmlld1N0aWNreUhlYWRlciBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgcmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTsgLy8gRm9yY2Ugc2lkZSBlZmZlY3RzIHRvIHByZXZlbnQgVDU1NzQ0MzExXG59XG5cbmNvbnN0IHtOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlLCBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZX0gPVxuICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgPyB7XG4gICAgICAgIE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LCBWaWV3XSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgIF0sXG4gICAgICAgIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbi8qXG4gKiBpT1Mgc2Nyb2xsIGV2ZW50IHRpbWluZyBudWFuY2VzOlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aG91dCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIHN0YXJ0cyAuLi5cbiAqIDIuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgICh3aGVuIHlvdSBwcmVzcyBkb3duIHRvIHN0b3AgdGhlIHNjcm9sbClcbiAqIDMuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNC4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgICAgKHdoZW4gbGlmdGluZyB1cCAtIHlvdSBjb3VsZCBwYXVzZSBmb3JldmVyIGJlZm9yZSAqIGxpZnRpbmcpXG4gKiA1LiBgb25Nb21lbnR1bVNjcm9sbEVuZGBcbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGggYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBib3VuY2UgYmVnaW5zIC4uLlxuICogICAgLi4uIHNvbWUgdGltZSBlbGFwc2VzIC4uLlxuICogICAgLi4uIHBoeXNpY2FsIHRvdWNoIGR1cmluZyBib3VuY2UgLi4uXG4gKiAyLiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgICAoTWFrZXMgbm8gc2Vuc2Ugd2h5IHRoaXMgb2NjdXJzIGZpcnN0IGR1cmluZyBib3VuY2UpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAoaW1tZWRpYXRlbHkgYWZ0ZXIgYG9uTW9tZW50dW1TY3JvbGxFbmRgKVxuICogNC4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA1LiBgb25Ub3VjaEVuZGAgICAgICAgICAgICAoWW91IGNvdWxkIGhvbGQgdGhlIHRvdWNoIHN0YXJ0IGZvciBhIGxvbmcgdGltZSlcbiAqIDYuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIChXaGVuIHJlbGVhc2luZyB0aGUgdmlldyBzdGFydHMgYm91bmNpbmcgYmFjaylcbiAqXG4gKiBTbyB3aGVuIHdlIHJlY2VpdmUgYW4gYG9uVG91Y2hTdGFydGAsIGhvdyBjYW4gd2UgdGVsbCBpZiB3ZSBhcmUgdG91Y2hpbmdcbiAqICpkdXJpbmcqIGFuIGFuaW1hdGlvbiAod2hpY2ggdGhlbiBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBzdG9wKT8gVGhlIG9ubHkgd2F5XG4gKiB0byB0ZWxsIGlzIGlmIHRoZSBgdG91Y2hTdGFydGAgb2NjdXJyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gKiBgb25Nb21lbnR1bVNjcm9sbEVuZGAuXG4gKlxuICogVGhpcyBpcyBhYnN0cmFjdGVkIG91dCBmb3IgeW91LCBzbyB5b3UgY2FuIGp1c3QgY2FsbCB0aGlzLnNjcm9sbFJlc3BvbmRlcklzQW5pbWF0aW5nKCkgaWZcbiAqIG5lY2Vzc2FyeVxuICpcbiAqIGBTY3JvbGxWaWV3YCBhbHNvIGluY2x1ZGVzIGxvZ2ljIGZvciBibHVycmluZyBhIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0XG4gKiBpZiBvbmUgaXMgZm9jdXNlZCB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgaXMgYSBuYXR1cmFsIHBsYWNlXG4gKiB0byBwdXQgdGhpcyBsb2dpYyBzaW5jZSBpdCBjYW4gc3VwcG9ydCBub3QgZGlzbWlzc2luZyB0aGUga2V5Ym9hcmQgd2hpbGVcbiAqIHNjcm9sbGluZywgdW5sZXNzIGEgcmVjb2duaXplZCBcInRhcFwiLWxpa2UgZ2VzdHVyZSBoYXMgb2NjdXJyZWQuXG4gKlxuICogVGhlIHB1YmxpYyBsaWZlY3ljbGUgQVBJIGluY2x1ZGVzIGV2ZW50cyBmb3Iga2V5Ym9hcmQgaW50ZXJhY3Rpb24sIHJlc3BvbmRlclxuICogaW50ZXJhY3Rpb24sIGFuZCBzY3JvbGxpbmcgKGFtb25nIG90aGVycykuIFRoZSBrZXlib2FyZCBjYWxsYmFja3NcbiAqIGBvbktleWJvYXJkV2lsbC9EaWQvKmAgYXJlICpnbG9iYWwqIGV2ZW50cywgYnV0IGFyZSBpbnZva2VkIG9uIHNjcm9sbFxuICogcmVzcG9uZGVyJ3MgcHJvcHMgc28gdGhhdCB5b3UgY2FuIGd1YXJhbnRlZSB0aGF0IHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3NcbiAqIGludGVybmFsIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgYWNjb3JkaW5nbHkgKGFuZCBkZXRlcm1pbmlzdGljYWxseSkgYnlcbiAqIHRoZSB0aW1lIHRoZSBwcm9wcyBjYWxsYmFja3MgYXJlIGludm9rZS4gT3RoZXJ3aXNlLCB5b3Ugd291bGQgYWx3YXlzIHdvbmRlclxuICogaWYgdGhlIHNjcm9sbCByZXNwb25kZXIgaXMgY3VycmVudGx5IGluIGEgc3RhdGUgd2hlcmUgaXQgcmVjb2duaXplcyBuZXdcbiAqIGtleWJvYXJkIHBvc2l0aW9ucyBldGMuIElmIGNvb3JkaW5hdGluZyBzY3JvbGxpbmcgd2l0aCBrZXlib2FyZCBtb3ZlbWVudCxcbiAqICphbHdheXMqIHVzZSB0aGVzZSBob29rcyBpbnN0ZWFkIG9mIGxpc3RlbmluZyB0byB5b3VyIG93biBnbG9iYWwga2V5Ym9hcmRcbiAqIGV2ZW50cy5cbiAqXG4gKiBQdWJsaWMga2V5Ym9hcmQgbGlmZWN5Y2xlIEFQSTogKHByb3BzIGNhbGxiYWNrcylcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBBcHBlYXJhbmNlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3dcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvd1xuICpcbiAqIGBvblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkYCB3aWxsIGJlIGludm9rZWQgaWYgYW4gYXBwcm9wcmlhdGVcbiAqIHRhcCBpbnNpZGUgdGhlIHNjcm9sbCByZXNwb25kZXIncyBzY3JvbGxhYmxlIHJlZ2lvbiB3YXMgcmVzcG9uc2libGVcbiAqIGZvciB0aGUgZGlzbWlzc2FsIG9mIHRoZSBrZXlib2FyZC4gVGhlcmUgYXJlIG90aGVyIHJlYXNvbnMgd2h5IHRoZVxuICoga2V5Ym9hcmQgY291bGQgYmUgZGlzbWlzc2VkLlxuICpcbiAqICAgdGhpcy5wcm9wcy5vblNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlzbWlzc2VkXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgSGlkZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGVcbiAqL1xuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxSZXNwb25kZXJab29tVG8nPixcbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogJFByb3BlcnR5VHlwZTxcbiAgICBTY3JvbGxWaWV3LFxuICAgICdzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkJyxcbiAgPixcbnx9PjtcblxuZXhwb3J0IHR5cGUgRGVjZWxlcmF0aW9uUmF0ZVR5cGUgPSAnZmFzdCcgfCAnbm9ybWFsJyB8IG51bWJlcjtcbmV4cG9ydCB0eXBlIFNjcm9sbFJlc3BvbmRlclR5cGUgPSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHM7XG5cbnR5cGUgTmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlID0gUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj47XG50eXBlIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSA9ICRSZWFkT25seTx7fFxuICAuLi4kRXhhY3Q8TmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlPixcbiAgLi4uU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxufH0+O1xuXG50eXBlIElubmVyVmlld0luc3RhbmNlID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz47XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgU2Nyb2xsVmlldyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgaXRzIGBjb250ZW50SW5zZXRgXG4gICAqIGFuZCBgc2Nyb2xsVmlld0luc2V0c2Agd2hlbiB0aGUgS2V5Ym9hcmQgY2hhbmdlcyBpdHMgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RLZXlib2FyZEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBzY3JvbGwgaW5kaWNhdG9yXG4gICAqIGluc2V0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS4gQXZhaWxhYmxlIG9uIGlPUyAxMyBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RzU2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGlzIGluc2V0IGZyb20gdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSBzY3JvbGwgdmlldy4gRGVmYXVsdHMgdG8gYHt0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0PzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiB0aGVcbiAgICogY29udGVudCBpZiB0aGUgY29udGVudCBpcyBsYXJnZXIgdGhlbiB0aGUgc2Nyb2xsIHZpZXcgYWxvbmcgdGhlIGF4aXMgb2ZcbiAgICogdGhlIHNjcm9sbCBkaXJlY3Rpb24uIFdoZW4gZmFsc2UsIGl0IGRpc2FibGVzIGFsbCBib3VuY2luZyBldmVuIGlmXG4gICAqIHRoZSBgYWx3YXlzQm91bmNlKmAgcHJvcHMgYXJlIHRydWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIFNjcm9sbFZpZXcgaGFzIGFuIGFjdGl2ZSBwYW4gcmVzcG9uZGVyIHRoYXQgaGlqYWNrcyBwYW5yZXNwb25kZXJzXG4gICAqIGRlZXBlciBpbiB0aGUgcmVuZGVyIHRyZWUgaW4gb3JkZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHRvdWNoZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgKiBIb3dldmVyLCBpbiBjZXJ0YWluIG9jY2FzaW9ucyAoc3VjaCBhcyB3aGVuIHVzaW5nIHNuYXBUb0ludGVydmFsKSBpbiBhIHZlcnRpY2FsIHNjcm9sbHZpZXdcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvciBpbiBvcmRlciB0byBwcmV2ZW50IHRoZSBTY3JvbGxWaWV3IGZyb20gYmxvY2tpbmcgdG91Y2hlc1xuICAgKi9cbiAgZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZ2VzdHVyZXMgY2FuIGRyaXZlIHpvb20gcGFzdCBtaW4vbWF4IGFuZCB0aGUgem9vbSB3aWxsIGFuaW1hdGVcbiAgICogdG8gdGhlIG1pbi9tYXggdmFsdWUgYXQgZ2VzdHVyZSBlbmQsIG90aGVyd2lzZSB0aGUgem9vbSB3aWxsIG5vdCBleGNlZWRcbiAgICogdGhlIGxpbWl0cy5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlc1pvb20/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgaG9yaXpvbnRhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIHRydWUgd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZUhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgdmVydGljYWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VWZXJ0aWNhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYXV0b21hdGljYWxseSBjZW50ZXJzIHRoZSBjb250ZW50IHdoZW4gdGhlXG4gICAqIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBib3VuZHM7IHdoZW4gdGhlIGNvbnRlbnQgaXNcbiAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LCB0aGlzIHByb3BlcnR5IGhhcyBubyBlZmZlY3QuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjZW50ZXJDb250ZW50PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIHNjcm9sbCBpbmRpY2F0b3JzLlxuICAgKlxuICAgKiAgIC0gYCdkZWZhdWx0J2AgKHRoZSBkZWZhdWx0KSwgc2FtZSBhcyBgYmxhY2tgLlxuICAgKiAgIC0gYCdibGFjaydgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIGJsYWNrLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGxpZ2h0IGJhY2tncm91bmQuXG4gICAqICAgLSBgJ3doaXRlJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgd2hpdGUuIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBpbmRpY2F0b3JTdHlsZT86ID8oJ2RlZmF1bHQnIHwgJ2JsYWNrJyB8ICd3aGl0ZScpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgU2Nyb2xsVmlldyB3aWxsIHRyeSB0byBsb2NrIHRvIG9ubHkgdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgKiBzY3JvbGxpbmcgd2hpbGUgZHJhZ2dpbmcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZGlyZWN0aW9uYWxMb2NrRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgb25jZSB0cmFja2luZyBzdGFydHMsIHdvbid0IHRyeSB0byBkcmFnIGlmIHRoZSB0b3VjaCBtb3Zlcy5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2FuQ2FuY2VsQ29udGVudFRvdWNoZXM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBhZGp1c3QgdGhlIHNjcm9sbCBwb3NpdGlvbiBzbyB0aGF0IHRoZSBmaXJzdCBjaGlsZCB0aGF0IGlzXG4gICAqIGN1cnJlbnRseSB2aXNpYmxlIGFuZCBhdCBvciBiZXlvbmQgYG1pbkluZGV4Rm9yVmlzaWJsZWAgd2lsbCBub3QgY2hhbmdlIHBvc2l0aW9uLiBUaGlzIGlzXG4gICAqIHVzZWZ1bCBmb3IgbGlzdHMgdGhhdCBhcmUgbG9hZGluZyBjb250ZW50IGluIGJvdGggZGlyZWN0aW9ucywgZS5nLiBhIGNoYXQgdGhyZWFkLCB3aGVyZSBuZXdcbiAgICogbWVzc2FnZXMgY29taW5nIGluIG1pZ2h0IG90aGVyd2lzZSBjYXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIGp1bXAuIEEgdmFsdWUgb2YgMCBpcyBjb21tb24sXG4gICAqIGJ1dCBvdGhlciB2YWx1ZXMgc3VjaCBhcyAxIGNhbiBiZSB1c2VkIHRvIHNraXAgbG9hZGluZyBzcGlubmVycyBvciBvdGhlciBjb250ZW50IHRoYXQgc2hvdWxkXG4gICAqIG5vdCBtYWludGFpbiBwb3NpdGlvbi5cbiAgICpcbiAgICogVGhlIG9wdGlvbmFsIGBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGRgIGNhbiBiZSB1c2VkIHRvIG1ha2UgdGhlIGNvbnRlbnQgYXV0b21hdGljYWxseSBzY3JvbGxcbiAgICogdG8gdGhlIHRvcCBhZnRlciBtYWtpbmcgdGhlIGFkanVzdG1lbnQgaWYgdGhlIHVzZXIgd2FzIHdpdGhpbiB0aGUgdGhyZXNob2xkIG9mIHRoZSB0b3AgYmVmb3JlXG4gICAqIHRoZSBhZGp1c3RtZW50IHdhcyBtYWRlLiBUaGlzIGlzIGFsc28gdXNlZnVsIGZvciBjaGF0LWxpa2UgYXBwbGljYXRpb25zIHdoZXJlIHlvdSB3YW50IHRvIHNlZVxuICAgKiBuZXcgbWVzc2FnZXMgc2Nyb2xsIGludG8gcGxhY2UsIGJ1dCBub3QgaWYgdGhlIHVzZXIgaGFzIHNjcm9sbGVkIHVwIGEgd2F5cyBhbmQgaXQgd291bGQgYmVcbiAgICogZGlzcnVwdGl2ZSB0byBzY3JvbGwgYSBidW5jaC5cbiAgICpcbiAgICogQ2F2ZWF0IDE6IFJlb3JkZXJpbmcgZWxlbWVudHMgaW4gdGhlIHNjcm9sbHZpZXcgd2l0aCB0aGlzIGVuYWJsZWQgd2lsbCBwcm9iYWJseSBjYXVzZVxuICAgKiBqdW1waW5lc3MgYW5kIGphbmsuIEl0IGNhbiBiZSBmaXhlZCwgYnV0IHRoZXJlIGFyZSBjdXJyZW50bHkgbm8gcGxhbnMgdG8gZG8gc28uIEZvciBub3csXG4gICAqIGRvbid0IHJlLW9yZGVyIHRoZSBjb250ZW50IG9mIGFueSBTY3JvbGxWaWV3cyBvciBMaXN0cyB0aGF0IHVzZSB0aGlzIGZlYXR1cmUuXG4gICAqXG4gICAqIENhdmVhdCAyOiBUaGlzIHNpbXBseSB1c2VzIGBjb250ZW50T2Zmc2V0YCBhbmQgYGZyYW1lLm9yaWdpbmAgaW4gbmF0aXZlIGNvZGUgdG8gY29tcHV0ZVxuICAgKiB2aXNpYmlsaXR5LiBPY2NsdXNpb24sIHRyYW5zZm9ybXMsIGFuZCBvdGhlciBjb21wbGV4aXR5IHdvbid0IGJlIHRha2VuIGludG8gYWNjb3VudCBhcyB0b1xuICAgKiB3aGV0aGVyIGNvbnRlbnQgaXMgXCJ2aXNpYmxlXCIgb3Igbm90LlxuICAgKlxuICAgKi9cbiAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPzogPyRSZWFkT25seTx7fFxuICAgIG1pbkluZGV4Rm9yVmlzaWJsZTogbnVtYmVyLFxuICAgIGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZD86ID9udW1iZXIsXG4gIHx9PixcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtYXhpbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGFsbG93ZWQgem9vbSBzY2FsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBtaW5pbXVtWm9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU2Nyb2xsVmlldyBhbGxvd3MgdXNlIG9mIHBpbmNoIGdlc3R1cmVzIHRvIHpvb20gaW4gYW5kIG91dC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgcGluY2hHZXN0dXJlRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgaW5kaWNhdG9ycyBhcmUgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHNob3VsZCBub3JtYWxseSBiZSBzZXQgdG8gdGhlIHNhbWUgdmFsdWUgYXNcbiAgICogdGhlIGBjb250ZW50SW5zZXRgLiBEZWZhdWx0cyB0byBgezAsIDAsIDAsIDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsSW5kaWNhdG9ySW5zZXRzPzogP0VkZ2VJbnNldHNQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgc2Nyb2xsZWQgYmV5b25kIGl0c1xuICAgKiBjb250ZW50IHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxUb092ZXJmbG93RW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3Agd2hlbiB0aGUgc3RhdHVzIGJhciBpcyB0YXBwZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbHNUb1RvcD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgc2Nyb2xscyB0byB0b3AgYWZ0ZXIgdGhlIHN0YXR1cyBiYXIgaGFzIGJlZW4gdGFwcGVkXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG9uU2Nyb2xsVG9Ub3A/OiAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIGhvcml6b250YWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzSG9yaXpvbnRhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgc2Nyb2xsIGNvbnRlbnQuXG4gICAqXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gMCwgdGhlIGZhZGluZyBlZGdlcyB3aWxsIGJlIHNldCBhY2NvcmRpbmdseVxuICAgKiB0byB0aGUgY3VycmVudCBzY3JvbGwgZGlyZWN0aW9uIGFuZCBwb3NpdGlvbixcbiAgICogaW5kaWNhdGluZyBpZiB0aGVyZSBpcyBtb3JlIGNvbnRlbnQgdG8gc2hvdy5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgMC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGZhZGluZ0VkZ2VMZW5ndGg/OiA/bnVtYmVyLFxufH0+O1xuXG50eXBlIFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUgPSBSZWFjdC5BYnN0cmFjdENvbXBvbmVudDxcbiAgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzLFxuICAkUmVhZE9ubHk8aW50ZXJmYWNlIHtzZXROZXh0SGVhZGVyWTogbnVtYmVyID0+IHZvaWR9Pixcbj47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLlZpZXdQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcblxuICAvKipcbiAgICogVGhlc2Ugc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBjb250YWluZXIgd2hpY2hcbiAgICogd3JhcHMgYWxsIG9mIHRoZSBjaGlsZCB2aWV3cy4gRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHJldHVybiAoXG4gICAqICAgPFNjcm9sbFZpZXcgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuY29udGVudENvbnRhaW5lcn0+XG4gICAqICAgPC9TY3JvbGxWaWV3PlxuICAgKiApO1xuICAgKiAuLi5cbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGNvbnRlbnRDb250YWluZXI6IHtcbiAgICogICAgIHBhZGRpbmdWZXJ0aWNhbDogMjBcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZT86ID9WaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogVXNlZCB0byBtYW51YWxseSBzZXQgdGhlIHN0YXJ0aW5nIHNjcm9sbCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGB7eDogMCwgeTogMH1gLlxuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiB0aGUgbmV4dCBpbmRleCAoaW4gcmVsYXRpb24gdG8gc2Nyb2xsXG4gICAqIHBvc2l0aW9uIGF0IHJlbGVhc2UpIHJlZ2FyZGxlc3Mgb2YgaG93IGZhc3QgdGhlIGdlc3R1cmUgaXMuIFRoaXMgY2FuIGJlXG4gICAqIHVzZWQgZm9yIHBhZ2luYXRpb24gd2hlbiB0aGUgcGFnZSBpcyBsZXNzIHRoYW4gdGhlIHdpZHRoIG9mIHRoZVxuICAgKiBob3Jpem9udGFsIFNjcm9sbFZpZXcgb3IgdGhlIGhlaWdodCBvZiB0aGUgdmVydGljYWwgU2Nyb2xsVmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBkaXNhYmxlSW50ZXJ2YWxNb21lbnR1bT86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBmbG9hdGluZy1wb2ludCBudW1iZXIgdGhhdCBkZXRlcm1pbmVzIGhvdyBxdWlja2x5IHRoZSBzY3JvbGwgdmlld1xuICAgKiBkZWNlbGVyYXRlcyBhZnRlciB0aGUgdXNlciBsaWZ0cyB0aGVpciBmaW5nZXIuIFlvdSBtYXkgYWxzbyB1c2Ugc3RyaW5nXG4gICAqIHNob3J0Y3V0cyBgXCJub3JtYWxcImAgYW5kIGBcImZhc3RcImAgd2hpY2ggbWF0Y2ggdGhlIHVuZGVybHlpbmcgaU9TIHNldHRpbmdzXG4gICAqIGZvciBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZU5vcm1hbGAgYW5kXG4gICAqIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlRmFzdGAgcmVzcGVjdGl2ZWx5LlxuICAgKlxuICAgKiAgIC0gYCdub3JtYWwnYDogMC45OTggb24gaU9TLCAwLjk4NSBvbiBBbmRyb2lkICh0aGUgZGVmYXVsdClcbiAgICogICAtIGAnZmFzdCdgOiAwLjk5IG9uIGlPUywgMC45IG9uIEFuZHJvaWRcbiAgICovXG4gIGRlY2VsZXJhdGlvblJhdGU/OiA/RGVjZWxlcmF0aW9uUmF0ZVR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldydzIGNoaWxkcmVuIGFyZSBhcnJhbmdlZCBob3Jpem9udGFsbHkgaW4gYSByb3dcbiAgICogaW5zdGVhZCBvZiB2ZXJ0aWNhbGx5IGluIGEgY29sdW1uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIElmIHN0aWNreSBoZWFkZXJzIHNob3VsZCBzdGljayBhdCB0aGUgYm90dG9tIGluc3RlYWQgb2YgdGhlIHRvcCBvZiB0aGVcbiAgICogU2Nyb2xsVmlldy4gVGhpcyBpcyB1c3VhbGx5IHVzZWQgd2l0aCBpbnZlcnRlZCBTY3JvbGxWaWV3cy5cbiAgICovXG4gIGludmVydFN0aWNreUhlYWRlcnM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUga2V5Ym9hcmQgZ2V0cyBkaXNtaXNzZWQgaW4gcmVzcG9uc2UgdG8gYSBkcmFnLlxuICAgKlxuICAgKiAqQ3Jvc3MgcGxhdGZvcm0qXG4gICAqXG4gICAqICAgLSBgJ25vbmUnYCAodGhlIGRlZmF1bHQpLCBkcmFncyBkbyBub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQuXG4gICAqICAgLSBgJ29uLWRyYWcnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCB3aGVuIGEgZHJhZyBiZWdpbnMuXG4gICAqXG4gICAqICppT1MgT25seSpcbiAgICpcbiAgICogICAtIGAnaW50ZXJhY3RpdmUnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCBpbnRlcmFjdGl2ZWx5IHdpdGggdGhlIGRyYWcgYW5kIG1vdmVzIGluXG4gICAqICAgICBzeW5jaHJvbnkgd2l0aCB0aGUgdG91Y2g7IGRyYWdnaW5nIHVwd2FyZHMgY2FuY2VscyB0aGUgZGlzbWlzc2FsLlxuICAgKiAgICAgT24gYW5kcm9pZCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGl0IHdpbGwgaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBhcyAnbm9uZScuXG4gICAqL1xuICBrZXlib2FyZERpc21pc3NNb2RlPzogPy8vIGRlZmF1bHRcbiAgLy8gY3Jvc3MtcGxhdGZvcm1cbiAgKCdub25lJyB8ICdvbi1kcmFnJyB8ICdpbnRlcmFjdGl2ZScpLCAvLyBpb3Mgb25seVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGVuIHRoZSBrZXlib2FyZCBzaG91bGQgc3RheSB2aXNpYmxlIGFmdGVyIGEgdGFwLlxuICAgKlxuICAgKiAgIC0gYCduZXZlcidgICh0aGUgZGVmYXVsdCksIHRhcHBpbmcgb3V0c2lkZSBvZiB0aGUgZm9jdXNlZCB0ZXh0IGlucHV0IHdoZW4gdGhlIGtleWJvYXJkXG4gICAqICAgICBpcyB1cCBkaXNtaXNzZXMgdGhlIGtleWJvYXJkLiBXaGVuIHRoaXMgaGFwcGVucywgY2hpbGRyZW4gd29uJ3QgcmVjZWl2ZSB0aGUgdGFwLlxuICAgKiAgIC0gYCdhbHdheXMnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSwgYW5kIHRoZSBzY3JvbGwgdmlldyB3aWxsIG5vdFxuICAgKiAgICAgY2F0Y2ggdGFwcywgYnV0IGNoaWxkcmVuIG9mIHRoZSBzY3JvbGwgdmlldyBjYW4gY2F0Y2ggdGFwcy5cbiAgICogICAtIGAnaGFuZGxlZCdgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIHRhcCB3YXMgaGFuZGxlZCBieVxuICAgKiAgICAgYSBjaGlsZHJlbiwgKG9yIGNhcHR1cmVkIGJ5IGFuIGFuY2VzdG9yKS5cbiAgICogICAtIGBmYWxzZWAsIGRlcHJlY2F0ZWQsIHVzZSAnbmV2ZXInIGluc3RlYWRcbiAgICogICAtIGB0cnVlYCwgZGVwcmVjYXRlZCwgdXNlICdhbHdheXMnIGluc3RlYWRcbiAgICovXG4gIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM/OiA/KCdhbHdheXMnIHwgJ25ldmVyJyB8ICdoYW5kbGVkJyB8IHRydWUgfCBmYWxzZSksXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIHN0YXJ0cyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxCZWdpbj86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBlbmRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEVuZD86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuXG4gIC8qKlxuICAgKiBGaXJlcyBhdCBtb3N0IG9uY2UgcGVyIGZyYW1lIGR1cmluZyBzY3JvbGxpbmcuIFRoZSBmcmVxdWVuY3kgb2YgdGhlXG4gICAqIGV2ZW50cyBjYW4gYmUgY29udHJvbGxlZCB1c2luZyB0aGUgYHNjcm9sbEV2ZW50VGhyb3R0bGVgIHByb3AuXG4gICAqL1xuICBvblNjcm9sbD86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgYmVnaW5zIHRvIGRyYWcgdGhlIHNjcm9sbCB2aWV3LlxuICAgKi9cbiAgb25TY3JvbGxCZWdpbkRyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIHRoZSBzY3JvbGwgdmlldyBhbmQgaXQgZWl0aGVyIHN0b3BzXG4gICAqIG9yIGJlZ2lucyB0byBnbGlkZS5cbiAgICovXG4gIG9uU2Nyb2xsRW5kRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gc2Nyb2xsYWJsZSBjb250ZW50IHZpZXcgb2YgdGhlIFNjcm9sbFZpZXcgY2hhbmdlcy5cbiAgICpcbiAgICogSGFuZGxlciBmdW5jdGlvbiBpcyBwYXNzZWQgdGhlIGNvbnRlbnQgd2lkdGggYW5kIGNvbnRlbnQgaGVpZ2h0IGFzIHBhcmFtZXRlcnM6XG4gICAqIGAoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KWBcbiAgICpcbiAgICogSXQncyBpbXBsZW1lbnRlZCB1c2luZyBvbkxheW91dCBoYW5kbGVyIGF0dGFjaGVkIHRvIHRoZSBjb250ZW50IGNvbnRhaW5lclxuICAgKiB3aGljaCB0aGlzIFNjcm9sbFZpZXcgcmVuZGVycy5cbiAgICovXG4gIG9uQ29udGVudFNpemVDaGFuZ2U/OiAoY29udGVudFdpZHRoOiBudW1iZXIsIGNvbnRlbnRIZWlnaHQ6IG51bWJlcikgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZFNob3c/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRIaWRlPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbFNob3c/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmRXaWxsSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIG11bHRpcGxlcyBvZiB0aGUgc2Nyb2xsIHZpZXcncyBzaXplXG4gICAqIHdoZW4gc2Nyb2xsaW5nLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24uIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBOb3RlOiBWZXJ0aWNhbCBwYWdpbmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gQW5kcm9pZC5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIHZlcnRpY2FsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFN0aWNreSBoZWFkZXIgaXMgaGlkZGVuIHdoZW4gc2Nyb2xsaW5nIGRvd24sIGFuZCBkb2NrIGF0IHRoZSB0b3BcbiAgICogd2hlbiBzY3JvbGxpbmcgdXBcbiAgICovXG4gIHN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGlsZCBpbmRpY2VzIGRldGVybWluaW5nIHdoaWNoIGNoaWxkcmVuIGdldCBkb2NrZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2NyZWVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgcGFzc2luZ1xuICAgKiBgc3RpY2t5SGVhZGVySW5kaWNlcz17WzBdfWAgd2lsbCBjYXVzZSB0aGUgZmlyc3QgY2hpbGQgdG8gYmUgZml4ZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvblxuICAgKiB3aXRoIGBob3Jpem9udGFsPXt0cnVlfWAuXG4gICAqL1xuICBzdGlja3lIZWFkZXJJbmRpY2VzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBBIFJlYWN0IENvbXBvbmVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgc3RpY2t5IGhlYWRlcnMuXG4gICAqIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc3RpY2t5SGVhZGVySW5kaWNlc2Agb3Igd2l0aCBgU2VjdGlvbkxpc3RgLCBkZWZhdWx0cyB0byBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAqIFlvdSBtYXkgbmVlZCB0byBzZXQgdGhpcyBpZiB5b3VyIHN0aWNreSBoZWFkZXIgdXNlcyBjdXN0b20gdHJhbnNmb3JtcyAoZWcuIHRyYW5zbGF0aW9uKSxcbiAgICogZm9yIGV4YW1wbGUgd2hlbiB5b3Ugd2FudCB5b3VyIGxpc3QgdG8gaGF2ZSBhbiBhbmltYXRlZCBoaWRhYmxlIGhlYWRlci5cbiAgICovXG4gIFN0aWNreUhlYWRlckNvbXBvbmVudD86IFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqL1xuICBzbmFwVG9BbGlnbm1lbnQ/OiA/KCdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnKSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbdW5jbGVhci10eXBlXSAtIGhvdyB0byBoYW5kbGUgZ2VuZXJpYyB0eXBlIHdpdGhvdXQgZXhpc3RlbnRpYWxcbiAgICogb3BlcmF0b3I/ICovXG4gIHJlZnJlc2hDb250cm9sPzogP1JlYWN0LkVsZW1lbnQ8YW55PixcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIGlubmVyIFZpZXcgZWxlbWVudCBvZiB0aGUgU2Nyb2xsVmlldy4gVGhpcyBzaG91bGQgYmUgdXNlZFxuICAgKiBpbnN0ZWFkIG9mIGNhbGxpbmcgYGdldElubmVyVmlld1JlZmAuXG4gICAqL1xuICBpbm5lclZpZXdSZWY/OiBGb3J3YXJkZWRSZWY8SW5uZXJWaWV3SW5zdGFuY2U+LFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIE5hdGl2ZSBTY3JvbGxWaWV3IGNvbXBvbmVudC4gVGhpcyByZWYgY2FuIGJlIHVzZWQgdG8gY2FsbFxuICAgKiBhbGwgb2YgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzLCBpbiBhZGRpdGlvbiB0byBuYXRpdmUgbWV0aG9kcyBsaWtlXG4gICAqIG1lYXN1cmUsIG1lYXN1cmVMYXlvdXQsIGV0Yy5cbiAgICovXG4gIHNjcm9sbFZpZXdSZWY/OiBGb3J3YXJkZWRSZWY8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbnx9PjtcblxudHlwZSBTdGF0ZSA9IHt8XG4gIGxheW91dEhlaWdodDogP251bWJlcixcbnx9O1xuXG5jb25zdCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TID0gMTY7XG5cbmV4cG9ydCB0eXBlIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCxcbnx9PjtcblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCB3cmFwcyBwbGF0Zm9ybSBTY3JvbGxWaWV3IHdoaWxlIHByb3ZpZGluZ1xuICogaW50ZWdyYXRpb24gd2l0aCB0b3VjaCBsb2NraW5nIFwicmVzcG9uZGVyXCIgc3lzdGVtLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IFNjcm9sbFZpZXdzIG11c3QgaGF2ZSBhIGJvdW5kZWQgaGVpZ2h0IGluIG9yZGVyIHRvIHdvcmssXG4gKiBzaW5jZSB0aGV5IGNvbnRhaW4gdW5ib3VuZGVkLWhlaWdodCBjaGlsZHJlbiBpbnRvIGEgYm91bmRlZCBjb250YWluZXIgKHZpYVxuICogYSBzY3JvbGwgaW50ZXJhY3Rpb24pLiBJbiBvcmRlciB0byBib3VuZCB0aGUgaGVpZ2h0IG9mIGEgU2Nyb2xsVmlldywgZWl0aGVyXG4gKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgdmlldyBkaXJlY3RseSAoZGlzY291cmFnZWQpIG9yIG1ha2Ugc3VyZSBhbGwgcGFyZW50XG4gKiB2aWV3cyBoYXZlIGJvdW5kZWQgaGVpZ2h0LiBGb3JnZXR0aW5nIHRvIHRyYW5zZmVyIGB7ZmxleDogMX1gIGRvd24gdGhlXG4gKiB2aWV3IHN0YWNrIGNhbiBsZWFkIHRvIGVycm9ycyBoZXJlLCB3aGljaCB0aGUgZWxlbWVudCBpbnNwZWN0b3IgbWFrZXNcbiAqIGVhc3kgdG8gZGVidWcuXG4gKlxuICogRG9lc24ndCB5ZXQgc3VwcG9ydCBvdGhlciBjb250YWluZWQgcmVzcG9uZGVycyBmcm9tIGJsb2NraW5nIHRoaXMgc2Nyb2xsXG4gKiB2aWV3IGZyb20gYmVjb21pbmcgdGhlIHJlc3BvbmRlci5cbiAqXG4gKlxuICogYDxTY3JvbGxWaWV3PmAgdnMgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0ID0gU2Nyb2xsVmlld0NvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0Py55ID8/IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldCh0aGlzLnByb3BzLmNvbnRlbnRJbnNldD8udG9wID8/IDApO1xuICB9XG5cbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWU7XG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudDogP3tkZXRhY2g6ICgpID0+IHZvaWQsIC4uLn0gPSBudWxsO1xuICBfc3RpY2t5SGVhZGVyUmVmczogTWFwPHN0cmluZywgUmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPj4gPVxuICAgIG5ldyBNYXAoKTtcbiAgX2hlYWRlckxheW91dFlzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIF9rZXlib2FyZE1ldHJpY3M6ID9LZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICBfYWRkaXRpb25hbFNjcm9sbE9mZnNldDogbnVtYmVyID0gMDtcbiAgX2lzVG91Y2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTogbnVtYmVyID0gMDtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgLy8gUmVzZXQgdG8gZmFsc2UgZXZlcnkgdGltZSBiZWNvbWVzIHJlc3BvbmRlci4gVGhpcyBpcyB1c2VkIHRvOlxuICAvLyAtIERldGVybWluZSBpZiB0aGUgc2Nyb2xsIHZpZXcgaGFzIGJlZW4gc2Nyb2xsZWQgYW5kIHRoZXJlZm9yZSBzaG91bGRcbiAgLy8gcmVmdXNlIHRvIGdpdmUgdXAgaXRzIHJlc3BvbmRlciBsb2NrLlxuICAvLyAtIERldGVybWluZSBpZiByZWxlYXNpbmcgc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkIHdoZW4gd2UgYXJlIGluXG4gIC8vIHRhcC10by1kaXNtaXNzIG1vZGUgKHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycpLlxuICBfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIF9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0OiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX2FuaW1hdGVkOiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuXG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBsYXlvdXRIZWlnaHQ6IG51bGwsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdib29sZWFuJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9eyR7XG4gICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgICB9fScgaXMgZGVwcmVjYXRlZC4gYCArXG4gICAgICAgICAgYFVzZSAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz1cIiR7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPyAnYWx3YXlzJyA6ICduZXZlcidcbiAgICAgICAgICB9XCInIGluc3RlYWRgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBLZXlib2FyZC5tZXRyaWNzKCk7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUsXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUsXG4gICAgKTtcblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRJbnNldFRvcCA9IHByZXZQcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gcHJldlByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBjb25zdCBuZXdDb250ZW50SW5zZXRUb3AgPSB0aGlzLnByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyB0aGlzLnByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBpZiAocHJldkNvbnRlbnRJbnNldFRvcCAhPT0gbmV3Q29udGVudEluc2V0VG9wKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChuZXdDb250ZW50SW5zZXRUb3AgfHwgMCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcjogKCkgPT4gU2Nyb2xsUmVzcG9uZGVyVHlwZSA9ICgpID0+IHtcbiAgICAvLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV1cbiAgICByZXR1cm4gKCh0aGlzOiBhbnkpOiBTY3JvbGxSZXNwb25kZXJUeXBlKTtcbiAgfTtcblxuICBnZXRTY3JvbGxhYmxlTm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSk7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdSZWY6ICgpID0+IElubmVyVmlld0luc3RhbmNlIHwgbnVsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlO1xuICB9O1xuXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogKCkgPT4gTmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlIHwgbnVsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZTtcbiAgfTtcblxuICAvKipcbiAgICogU2Nyb2xscyB0byBhIGdpdmVuIHgsIHkgb2Zmc2V0LCBlaXRoZXIgaW1tZWRpYXRlbHkgb3Igd2l0aCBhIHNtb290aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBzY3JvbGxUbyh7eDogMCwgeTogMCwgYW5pbWF0ZWQ6IHRydWV9KWBcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbzogKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvKFxuICAgICAgdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgIHggfHwgMCxcbiAgICAgIHkgfHwgMCxcbiAgICAgIGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0sXG4gICkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG9FbmQodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSwgYW5pbWF0ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNhbGxiYWNrIHRvIG9uRm9jdXMgaW4gYSBUZXh0SW5wdXRzJ1xuICAgKiBwYXJlbnQgdmlldy4gTm90ZSB0aGF0IGFueSBtb2R1bGUgdXNpbmcgdGhpcyBtaXhpbiBuZWVkcyB0byByZXR1cm5cbiAgICogdGhlIHBhcmVudCB2aWV3J3MgcmVmIGluIGdldFNjcm9sbFZpZXdSZWYoKSBpbiBvcmRlciB0byB1c2UgdGhpcyBtZXRob2QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSGFuZGxlIFRoZSBUZXh0SW5wdXQgbm9kZSBoYW5kbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGl0aW9uYWxPZmZzZXQgVGhlIHNjcm9sbCB2aWV3J3MgYm90dG9tIFwiY29udGVudEluc2V0XCIuXG4gICAqICAgICAgICBEZWZhdWx0IGlzIDAuXG4gICAqIEBwYXJhbSB7Ym9vbH0gcHJldmVudE5lZ2F0aXZlU2Nyb2xsaW5nIFdoZXRoZXIgdG8gYWxsb3cgcHVsbGluZyB0aGUgY29udGVudFxuICAgKiAgICAgICAgZG93biB0byBtYWtlIGl0IG1lZXQgdGhlIGtleWJvYXJkJ3MgdG9wLiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogPFQ+KFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxUPj4sXG4gICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICBwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSBhZGRpdGlvbmFsT2Zmc2V0IHx8IDA7XG4gICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gISFwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5vZGVIYW5kbGUgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgICAgbm9kZUhhbmRsZSxcbiAgICAgICAgbnVsbHRocm93cyhmaW5kTm9kZUhhbmRsZSh0aGlzKSksXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVIYW5kbGUubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gem9vbSB0byBhIHNwZWNpZmljIHJlY3QgaW4gdGhlIHNjcm9sbHZpZXcuIFRoZSBhcmd1bWVudCBoYXMgdGhlIHNoYXBlXG4gICAqIHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGFuaW1hdGVkOiBib29sZWFuID0gdHJ1ZX1cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4gdm9pZCA9IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB7XG4gICAgaW52YXJpYW50KFBsYXRmb3JtLk9TID09PSAnaW9zJywgJ3pvb21Ub1JlY3QgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgaWYgKCdhbmltYXRlZCcgaW4gcmVjdCkge1xuICAgICAgdGhpcy5fYW5pbWF0ZWQgPSByZWN0LmFuaW1hdGVkO1xuICAgICAgZGVsZXRlIHJlY3QuYW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYW5pbWF0ZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvYCBgYW5pbWF0ZWRgIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFVzZSBgb3B0aW9ucy5hbmltYXRlZGAgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuem9vbVRvUmVjdChcbiAgICAgIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICByZWN0LFxuICAgICAgYW5pbWF0ZWQgIT09IGZhbHNlLFxuICAgICk7XG4gIH07XG5cbiAgX3RleHRJbnB1dEZvY3VzRXJyb3IoKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBtZWFzdXJpbmcgdGV4dCBmaWVsZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsY3VsYXRpb25zIHBlcmZvcm1lZCBoZXJlIGFzc3VtZSB0aGUgc2Nyb2xsIHZpZXcgdGFrZXMgdXAgdGhlIGVudGlyZVxuICAgKiBzY3JlZW4gLSBldmVuIGlmIGhhcyBzb21lIGNvbnRlbnQgaW5zZXQuIFdlIHRoZW4gbWVhc3VyZSB0aGUgb2Zmc2V0cyBvZiB0aGVcbiAgICoga2V5Ym9hcmQsIGFuZCBjb21wZW5zYXRlIGJvdGggZm9yIHRoZSBzY3JvbGwgdmlldydzIFwiY29udGVudEluc2V0XCIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKi9cbiAgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQ6IChcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgKSA9PiB2b2lkID0gKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IGtleWJvYXJkU2NyZWVuWSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQ7XG5cbiAgICBjb25zdCBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAga2V5Ym9hcmRTY3JlZW5ZID0gdGhpcy5fa2V5Ym9hcmRNZXRyaWNzLnNjcmVlblk7XG4gICAgICB9XG4gICAgICBsZXQgc2Nyb2xsT2Zmc2V0WSA9XG4gICAgICAgIHRvcCAtIGtleWJvYXJkU2NyZWVuWSArIGhlaWdodCArIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ7XG5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoaXMgY2FuIHNjcm9sbCB3aXRoIG5lZ2F0aXZlIG9mZnNldCwgcHVsbGluZyB0aGUgY29udGVudFxuICAgICAgLy8gZG93biBzbyB0aGF0IHRoZSB0YXJnZXQgY29tcG9uZW50J3MgYm90dG9tIG1lZXRzIHRoZSBrZXlib2FyZCdzIHRvcC5cbiAgICAgIC8vIElmIHJlcXVlc3RlZCBvdGhlcndpc2UsIGNhcCB0aGUgb2Zmc2V0IGF0IDAgbWluaW11bSB0byBhdm9pZCBjb250ZW50XG4gICAgICAvLyBzaGlmdGluZyBkb3duLlxuICAgICAgaWYgKHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBzY3JvbGxPZmZzZXRZID0gTWF0aC5tYXgoMCwgc2Nyb2xsT2Zmc2V0WSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvKHt4OiAwLCB5OiBzY3JvbGxPZmZzZXRZLCBhbmltYXRlZDogdHJ1ZX0pO1xuXG4gICAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzID09IG51bGwpIHtcbiAgICAgIC8vIGBfa2V5Ym9hcmRNZXRyaWNzYCBpcyBzZXQgaW5zaWRlIGBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93YCB3aGljaFxuICAgICAgLy8gaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgIGJ1dCBuYXRpdmUgaGFzIGFscmVhZHkgc2NoZWR1bGVkIGl0LlxuICAgICAgLy8gSW4gY2FzZSBpdCB3YXMgbm90IGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCwgd2UgcG9zdHBvbmUgc2Nyb2xsaW5nIHRvXG4gICAgICAvLyB0ZXh0IGlucHV0LlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXg6ICRGbG93Rml4TWUsIGNoaWxkQXJyYXk6ICRGbG93Rml4TWUpOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9XG4gICAgICAgIEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgICAgdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgICAgICAnb25TY3JvbGwnLFxuICAgICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4OiAkRmxvd0ZpeE1lLCBldmVudDogJEZsb3dGaXhNZSwga2V5OiAkRmxvd0ZpeE1lKSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXk8JEZsb3dGaXhNZT4odGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID09IG51bGwgJiZcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1lvdSBzcGVjaWZpZWQgYG9uU2Nyb2xsYCBvbiBhIDxTY3JvbGxWaWV3PiBidXQgbm90ICcgK1xuICAgICAgICAgICAgJ2BzY3JvbGxFdmVudFRocm90dGxlYC4gWW91IHdpbGwgb25seSByZWNlaXZlIG9uZSBldmVudC4gJyArXG4gICAgICAgICAgICAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICtcbiAgICAgICAgICAgIFwiY2F1c2UgZnJhbWUgZHJvcHMsIHVzZSBhIGJpZ2dlciBudW1iZXIgaWYgeW91IGRvbid0IG5lZWQgYXMgXCIgK1xuICAgICAgICAgICAgJ211Y2ggcHJlY2lzaW9uLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9pbm5lclZpZXc6IFJlZkZvcndhcmRlcjxJbm5lclZpZXdJbnN0YW5jZSwgSW5uZXJWaWV3SW5zdGFuY2U+ID1cbiAgICBjcmVhdGVSZWZGb3J3YXJkZXIoXG4gICAgICAoaW5zdGFuY2U6IElubmVyVmlld0luc3RhbmNlKTogSW5uZXJWaWV3SW5zdGFuY2UgPT4gaW5zdGFuY2UsXG4gICAgKTtcblxuICBfc2Nyb2xsVmlldzogUmVmRm9yd2FyZGVyPFxuICAgIE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZSxcbiAgICBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UsXG4gID4gPSBjcmVhdGVSZWZGb3J3YXJkZXIoXG4gICAgKG5hdGl2ZUluc3RhbmNlOiBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UpOiBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgPT4ge1xuICAgICAgLy8gVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiAgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgIC8vIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAvLyBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAvLyBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAvL1xuICAgICAgLy8gVGhlcmVmb3JlIHdlIGVkaXQgcmVmIHRvIGluY2x1ZGUgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzIHNvIHRoYXRcbiAgICAgIC8vIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cblxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gS25vd24gaXNzdWUgd2l0aCBhcHBlbmRpbmcgY3VzdG9tIG1ldGhvZHMuXG4gICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZTogUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmF0aXZlSW5zdGFuY2UsXG4gICAgICAgIHtcbiAgICAgICAgICBnZXRTY3JvbGxSZXNwb25kZXI6IHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyLFxuICAgICAgICAgIGdldFNjcm9sbGFibGVOb2RlOiB0aGlzLmdldFNjcm9sbGFibGVOb2RlLFxuICAgICAgICAgIGdldElubmVyVmlld05vZGU6IHRoaXMuZ2V0SW5uZXJWaWV3Tm9kZSxcbiAgICAgICAgICBnZXRJbm5lclZpZXdSZWY6IHRoaXMuZ2V0SW5uZXJWaWV3UmVmLFxuICAgICAgICAgIGdldE5hdGl2ZVNjcm9sbFJlZjogdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYsXG4gICAgICAgICAgc2Nyb2xsVG86IHRoaXMuc2Nyb2xsVG8sXG4gICAgICAgICAgc2Nyb2xsVG9FbmQ6IHRoaXMuc2Nyb2xsVG9FbmQsXG4gICAgICAgICAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiB0aGlzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyxcbiAgICAgICAgICBzY3JvbGxSZXNwb25kZXJab29tVG86IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvLFxuICAgICAgICAgIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQsXG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcHVibGljSW5zdGFuY2U7XG4gICAgfSxcbiAgKTtcblxuICAvKipcbiAgICogV2FybmluZywgdGhpcyBtYXkgYmUgY2FsbGVkIHNldmVyYWwgdGltZXMgZm9yIGEgc2luZ2xlIGtleWJvYXJkIG9wZW5pbmcuXG4gICAqIEl0J3MgYmVzdCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhpcyBtZXRob2QgYW5kIHRoZW4gdGFrZSBhbnkgYWN0aW9uXG4gICAqIGF0IGEgbGF0ZXIgcG9pbnQgKGVpdGhlciBpbiBga2V5Ym9hcmREaWRTaG93YCBvciBvdGhlcikuXG4gICAqXG4gICAqIEhlcmUncyB0aGUgb3JkZXIgdGhhdCBldmVudHMgb2NjdXIgaW46XG4gICAqIC0gZm9jdXNcbiAgICogLSB3aWxsU2hvdyB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRTaG93IHNldmVyYWwgdGltZXNcbiAgICogLSBibHVyXG4gICAqIC0gd2lsbEhpZGUge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkSGlkZSBzZXZlcmFsIHRpbWVzXG4gICAqXG4gICAqIFRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBtb2R1bGUgY2FsbGJhY2tzIGZvciBlYWNoIG9mIHRoZXNlIGV2ZW50cy5cbiAgICogRXZlbiB0aG91Z2ggYW55IHVzZXIgY291bGQgaGF2ZSBlYXNpbHkgbGlzdGVuZWQgdG8ga2V5Ym9hcmQgZXZlbnRzXG4gICAqIHRoZW1zZWx2ZXMsIHVzaW5nIHRoZXNlIGBwcm9wc2AgY2FsbGJhY2tzIGVuc3VyZXMgdGhhdCBvcmRlcmluZyBvZiBldmVudHNcbiAgICogaXMgY29uc2lzdGVudCAtIGFuZCBub3QgZGVwZW5kZW50IG9uIHRoZSBvcmRlciB0aGF0IHRoZSBrZXlib2FyZCBldmVudHMgYXJlXG4gICAqIHN1YnNjcmliZWQgdG8uIFRoaXMgbWF0dGVycyB3aGVuIHRlbGxpbmcgdGhlIHNjcm9sbCB2aWV3IHRvIHNjcm9sbCB0byB3aGVyZVxuICAgKiB0aGUga2V5Ym9hcmQgaXMgaGVhZGVkIC0gdGhlIHNjcm9sbCByZXNwb25kZXIgYmV0dGVyIGhhdmUgYmVlbiBub3RpZmllZCBvZlxuICAgKiB0aGUga2V5Ym9hcmQgZGVzdGluYXRpb24gYmVmb3JlIGJlaW5nIGluc3RydWN0ZWQgdG8gc2Nyb2xsIHRvIHdoZXJlIHRoZVxuICAgKiBrZXlib2FyZCB3aWxsIGJlLiBTdGljayB0byB0aGUgYFNjcm9sbFJlc3BvbmRlcmAgY2FsbGJhY2tzLCBhbmQgZXZlcnl0aGluZ1xuICAgKiB3aWxsIHdvcmsuXG4gICAqXG4gICAqIFdBUk5JTkc6IFRoZXNlIGNhbGxiYWNrcyB3aWxsIGZpcmUgZXZlbiBpZiBhIGtleWJvYXJkIGlzIGRpc3BsYXllZCBpbiBhXG4gICAqIGRpZmZlcmVudCBuYXZpZ2F0aW9uIHBhbmUuIEZpbHRlciBvdXQgdGhlIGV2ZW50cyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICogcmVsZXZhbnQgdG8geW91LiAoRm9yIGV4YW1wbGUsIG9ubHkgaWYgeW91IHJlY2VpdmUgdGhlc2UgY2FsbGJhY2tzIGFmdGVyXG4gICAqIHlvdSBoYWQgZXhwbGljaXRseSBmb2N1c2VkIGEgbm9kZSBldGMpLlxuICAgKi9cblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBlLmVuZENvb3JkaW5hdGVzO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGU6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGUoZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBlLmVuZENvb3JkaW5hdGVzO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGU6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW46IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQ6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuZm9ydHVuYXRlbHksIGBvblNjcm9sbEJlZ2luRHJhZ2AgYWxzbyBmaXJlcyB3aGVuICpzdG9wcGluZyogdGhlIHNjcm9sbFxuICAgKiBhbmltYXRpb24sIGFuZCB0aGVyZSdzIG5vdCBhbiBlYXN5IHdheSB0byBkaXN0aW5ndWlzaCBhIGRyYWcgdnMuIHN0b3BwaW5nXG4gICAqIG1vbWVudHVtLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbEJlZ2luRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsQmVnaW5EcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuYmVnaW5TY3JvbGwoKTsgLy8gVE9ETzogdHJhY2sgYWxsIHNjcm9sbHMgYWZ0ZXIgaW1wbGVtZW50aW5nIG9uU2Nyb2xsRW5kQW5pbWF0aW9uXG5cbiAgICBpZiAoXG4gICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkRGlzbWlzc01vZGUgPT09ICdvbi1kcmFnJ1xuICAgICkge1xuICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbEVuZERyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEVuZERyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIC8vIC0gSWYgd2UgYXJlIGFuaW1hdGluZywgdGhlbiB0aGlzIGlzIGEgXCJkcmFnXCIgdGhhdCBpcyBzdG9wcGluZyB0aGUgc2Nyb2xsdmlldyBhbmQgbW9tZW50dW0gZW5kXG4gICAgLy8gICB3aWxsIGZpcmUuXG4gICAgLy8gLSBJZiB2ZWxvY2l0eSBpcyBub24temVybywgdGhlbiB0aGUgaW50ZXJhY3Rpb24gd2lsbCBzdG9wIHdoZW4gbW9tZW50dW0gc2Nyb2xsIGVuZHMgb3JcbiAgICAvLyAgIGFub3RoZXIgZHJhZyBzdGFydHMgYW5kIGVuZHMuXG4gICAgLy8gLSBJZiB3ZSBkb24ndCBnZXQgdmVsb2NpdHksIGJldHRlciB0byBzdG9wIHRoZSBpbnRlcmFjdGlvbiB0d2ljZSB0aGFuIG5vdCBzdG9wIGl0LlxuICAgIGlmIChcbiAgICAgICF0aGlzLl9pc0FuaW1hdGluZygpICYmXG4gICAgICAoIXZlbG9jaXR5IHx8ICh2ZWxvY2l0eS54ID09PSAwICYmIHZlbG9jaXR5LnkgPT09IDApKVxuICAgICkge1xuICAgICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRoaXMgY2xhc3MgdGhhdCBsZXRzIHVzIHF1aWNrbHkgZGV0ZXJtaW5lIGlmIHRoZVxuICAgKiB2aWV3IGlzIGN1cnJlbnRseSBhbmltYXRpbmcuIFRoaXMgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCB0byBrbm93IHdoZW5cbiAgICogYSB0b3VjaCBoYXMganVzdCBzdGFydGVkIG9yIGVuZGVkLlxuICAgKi9cbiAgX2lzQW5pbWF0aW5nOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0TW9tZW50dW1TY3JvbGxFbmQgPVxuICAgICAgbm93IC0gdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTtcbiAgICBjb25zdCBpc0FuaW1hdGluZyA9XG4gICAgICB0aW1lU2luY2VMYXN0TW9tZW50dW1TY3JvbGxFbmQgPCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TIHx8XG4gICAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIDwgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lO1xuICAgIHJldHVybiBpc0FuaW1hdGluZztcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJHcmFudGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyR3JhbnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50KGUpO1xuICAgIHRoaXMuX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nID0gdGhpcy5faXNBbmltYXRpbmcoKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWplY3RgIGV2ZW50LlxuICAgKlxuICAgKiBTb21lIG90aGVyIGVsZW1lbnQgaXMgbm90IHlpZWxkaW5nIGl0cyByb2xlIGFzIHJlc3BvbmRlci4gTm9ybWFsbHksIHdlJ2RcbiAgICoganVzdCBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCwgYnV0IGEgdG91Y2ggaGFzIGFscmVhZHkgYmVnYW4gb24gaXQsIHRoZVxuICAgKiBgVUlTY3JvbGxWaWV3YCB3aWxsIG5vdCBhY2NlcHQgYmVpbmcgZGlzYWJsZWQgYWZ0ZXIgdGhhdC4gVGhlIGVhc2llc3RcbiAgICogc29sdXRpb24gZm9yIG5vdyBpcyB0byBhY2NlcHQgdGhlIGxpbWl0YXRpb24gb2YgZGlzYWxsb3dpbmcgdGhpc1xuICAgKiBhbHRvZ2V0aGVyLiBUbyBpbXByb3ZlIHRoaXMsIGZpbmQgYSB3YXkgdG8gZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AgYWZ0ZXJcbiAgICogYSB0b3VjaCBoYXMgYWxyZWFkeSBzdGFydGVkLlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclJlamVjdDogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlbGVhc2VgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclJlbGVhc2U6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gZS5uYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcbiAgICB0aGlzLnByb3BzLm9uUmVzcG9uZGVyUmVsZWFzZSAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyUmVsZWFzZShlKTtcblxuICAgIGlmICh0eXBlb2YgZS50YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBldmVudCB0YXJnZXQgdG8gYmUgYSBudW1iZXIuIFNob3VsZCBoYXZlIGJlZW4gYSBuYXRpdmUgY29tcG9uZW50JyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQgc2Nyb2xsIHZpZXdzIHdpbGwgdW5mb2N1cyBhIHRleHRGaWVsZFxuICAgIC8vIGlmIGFub3RoZXIgdG91Y2ggb2NjdXJzIG91dHNpZGUgb2YgaXRcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09IHRydWUgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAmJlxuICAgICAgIXRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciAmJlxuICAgICAgIXRoaXMuX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2Ugd2lsbCBhbGxvdyB0aGUgc2Nyb2xsIHZpZXcgdG8gZ2l2ZSB1cCBpdHMgbG9jayBpZmYgaXQgYWNxdWlyZWQgdGhlIGxvY2tcbiAgICogZHVyaW5nIGFuIGFuaW1hdGlvbi4gVGhpcyBpcyBhIHZlcnkgdXNlZnVsIGRlZmF1bHQgdGhhdCBoYXBwZW5zIHRvIHNhdGlzZnlcbiAgICogbWFueSBjb21tb24gdXNlciBleHBlcmllbmNlcy5cbiAgICpcbiAgICogLSBTdG9wIGEgc2Nyb2xsIG9uIHRoZSBsZWZ0IGVkZ2UsIHRoZW4gdHVybiB0aGF0IGludG8gYW4gb3V0ZXIgdmlldydzXG4gICAqICAgYmFja3N3aXBlLlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgbWlkLWJvdW5jZSBhdCB0aGUgdG9wLCBjb250aW51ZSBwdWxsaW5nIHRvIGhhdmUgdGhlIG91dGVyXG4gICAqICAgdmlldyBkaXNtaXNzLlxuICAgKiAtIEhvd2V2ZXIsIHdpdGhvdXQgY2F0Y2hpbmcgdGhlIHNjcm9sbCB2aWV3IG1pZC1ib3VuY2UgKHdoaWxlIGl0IGlzXG4gICAqICAgbW90aW9ubGVzcyksIGlmIHlvdSBkcmFnIGZhciBlbm91Z2ggZm9yIHRoZSBzY3JvbGwgdmlldyB0byBiZWNvbWVcbiAgICogICByZXNwb25kZXIgKGFuZCB0aGVyZWZvcmUgZHJhZyB0aGUgc2Nyb2xsIHZpZXcgYSBiaXQpLCBhbnkgYmFja3N3aXBlXG4gICAqICAgbmF2aWdhdGlvbiBvZiBhIHN3aXBlIGdlc3R1cmUgaGlnaGVyIGluIHRoZSB2aWV3IGhpZXJhcmNoeSwgc2hvdWxkIGJlXG4gICAqICAgcmVqZWN0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc1RvdWNoaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXJlbHkgdG91Y2ggc3RhcnRpbmcgaXMgbm90IHN1ZmZpY2llbnQgZm9yIGEgc2Nyb2xsIHZpZXcgdG8gYmVjb21lIHRoZVxuICAgKiByZXNwb25kZXIuIEJlaW5nIHRoZSBcInJlc3BvbmRlclwiIG1lYW5zIHRoYXQgdGhlIHZlcnkgbmV4dCB0b3VjaCBtb3ZlL2VuZFxuICAgKiBldmVudCB3aWxsIHJlc3VsdCBpbiBhbiBhY3Rpb24vbW92ZW1lbnQuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgIGV2ZW50LlxuICAgKlxuICAgKiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgaXMgdXNlZCB3aGVuIHRoZSBuZXh0IG1vdmUvZW5kIHdpbGwgdHJpZ2dlclxuICAgKiBzb21lIFVJIG1vdmVtZW50L2FjdGlvbiwgYnV0IHdoZW4geW91IHdhbnQgdG8geWllbGQgcHJpb3JpdHkgdG8gdmlld3NcbiAgICogbmVzdGVkIGluc2lkZSBvZiB0aGUgdmlldy5cbiAgICpcbiAgICogVGhlcmUgbWF5IGJlIHNvbWUgY2FzZXMgd2hlcmUgc2Nyb2xsIHZpZXdzIGFjdHVhbGx5IHNob3VsZCByZXR1cm4gYHRydWVgXG4gICAqIGZyb20gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgOiBBbnkgdGltZSB3ZSBhcmUgZGV0ZWN0aW5nIGEgc3RhbmRhcmQgdGFwXG4gICAqIHRoYXQgZ2l2ZXMgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzLlxuICAgKlxuICAgKiAtIElmIGEgc2luZ2xlIHRhcCBvbiB0aGUgc2Nyb2xsIHZpZXcgdHJpZ2dlcnMgYW4gYWN0aW9uIHN1Y2ggYXNcbiAgICogICByZWNlbnRlcmluZyBhIG1hcCBzdHlsZSB2aWV3IHlldCB3YW50cyB0byBnaXZlIHByaW9yaXR5IHRvIGludGVyYWN0aW9uXG4gICAqICAgdmlld3MgaW5zaWRlIChzdWNoIGFzIGRyb3BwZWQgcGlucyBvciBsYWJlbHMpLCB0aGVuIHdlIHdvdWxkIHJldHVybiB0cnVlXG4gICAqICAgZnJvbSB0aGlzIG1ldGhvZCB3aGVuIHRoZXJlIGlzIGEgc2luZ2xlIHRvdWNoLlxuICAgKlxuICAgKiAtIFNpbWlsYXIgdG8gdGhlIHByZXZpb3VzIGNhc2UsIGlmIGEgdHdvIGZpbmdlciBcInRhcFwiIHNob3VsZCB0cmlnZ2VyIGFcbiAgICogICB6b29tLCB3ZSB3b3VsZCBjaGVjayB0aGUgYHRvdWNoZXNgIGNvdW50LCBhbmQgaWYgYD49IDJgLCB3ZSB3b3VsZCByZXR1cm5cbiAgICogICB0cnVlLlxuICAgKlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2hhbmRsZWQnICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRJbnB1dFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlcmUgYXJlIHRpbWVzIHdoZW4gdGhlIHNjcm9sbCB2aWV3IHdhbnRzIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyXG4gICAqIChtZWFuaW5nIHJlc3BvbmQgdG8gdGhlIG5leHQgaW1tZWRpYXRlIGB0b3VjaFN0YXJ0L3RvdWNoRW5kYCksIGluIGEgd2F5XG4gICAqIHRoYXQgKmRvZXNuJ3QqIGdpdmUgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzIChoZW5jZSB0aGUgY2FwdHVyZSBwaGFzZSk6XG4gICAqXG4gICAqIC0gQ3VycmVudGx5IGFuaW1hdGluZy5cbiAgICogLSBUYXBwaW5nIGFueXdoZXJlIHRoYXQgaXMgbm90IGEgdGV4dCBpbnB1dCwgd2hpbGUgdGhlIGtleWJvYXJkIGlzXG4gICAqICAgdXAgKHdoaWNoIHNob3VsZCBkaXNtaXNzIHRoZSBrZXlib2FyZCkuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIFRoZSBzY3JvbGwgdmlldyBzaG91bGQgcmVjZWl2ZSB0YXBzIGluc3RlYWQgb2YgaXRzIGRlc2NlbmRhbnRzIGlmOlxuICAgIC8vICogaXQgaXMgYWxyZWFkeSBhbmltYXRpbmcvZGVjZWxlcmF0aW5nXG4gICAgaWYgKHRoaXMuX2lzQW5pbWF0aW5nKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gKiB0aGUga2V5Ym9hcmQgaXMgdXAsIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgaXMgJ25ldmVyJyAodGhlIGRlZmF1bHQpLFxuICAgIC8vIGFuZCBhIG5ldyB0b3VjaCBzdGFydHMgd2l0aCBhIG5vbi10ZXh0aW5wdXQgdGFyZ2V0IChpbiB3aGljaCBjYXNlIHRoZVxuICAgIC8vIGZpcnN0IHRhcCBzaG91bGQgYmUgc2VudCB0byB0aGUgc2Nyb2xsIHZpZXcgYW5kIGRpc21pc3MgdGhlIGtleWJvYXJkLFxuICAgIC8vIHRoZW4gdGhlIHNlY29uZCB0YXAgZ29lcyB0byB0aGUgYWN0dWFsIGludGVyaW9yIHZpZXcpXG4gICAgY29uc3Qge2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHN9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgPVxuICAgICAgIWtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgfHwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ25ldmVyJztcblxuICAgIGlmICh0eXBlb2YgZS50YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBldmVudCB0YXJnZXQgdG8gYmUgYSBudW1iZXIuIFNob3VsZCBoYXZlIGJlZW4gYSBuYXRpdmUgY29tcG9uZW50JyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIExldCBwcmVzc2VzIHRocm91Z2ggaWYgdGhlIHNvZnQga2V5Ym9hcmQgaXMgZGV0YWNoZWQgZnJvbSB0aGUgdmlld3BvcnRcbiAgICBpZiAodGhpcy5fc29mdEtleWJvYXJkSXNEZXRhY2hlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT0gbnVsbCAmJlxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbiAgICAgICFUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChlLnRhcmdldClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRG8gd2UgY29uc2lkZXIgdGhlcmUgdG8gYmUgYSBkaXNtaXNzaWJsZSBzb2Z0LWtleWJvYXJkIG9wZW4/XG4gICAqL1xuICBfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuXG4gICAgLy8gV2UgY2Fubm90IGRpc21pc3MgdGhlIGtleWJvYXJkIHdpdGhvdXQgYW4gaW5wdXQgdG8gYmx1ciwgZXZlbiBpZiBhIHNvZnRcbiAgICAvLyBrZXlib2FyZCBpcyBvcGVuIChlLmcuIHdoZW4ga2V5Ym9hcmQgaXMgb3BlbiBkdWUgdG8gYSBuYXRpdmUgY29tcG9uZW50XG4gICAgLy8gbm90IHBhcnRpY2lwYXRpbmcgaW4gVGV4dElucHV0U3RhdGUpLiBJdCdzIGFsc28gcG9zc2libGUgdGhhdCB0aGVcbiAgICAvLyBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dCBpc24ndCBhIFRleHRJbnB1dCAoc3VjaCBhcyBieSBjYWxsaW5nIHJlZi5mb2N1c1xuICAgIC8vIG9uIGEgbm9uLVRleHRJbnB1dCkuXG4gICAgY29uc3QgaGFzRm9jdXNlZFRleHRJbnB1dCA9XG4gICAgICBjdXJyZW50bHlGb2N1c2VkSW5wdXQgIT0gbnVsbCAmJlxuICAgICAgVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZElucHV0KTtcblxuICAgIC8vIEV2ZW4gaWYgYW4gaW5wdXQgaXMgZm9jdXNlZCwgd2UgbWF5IG5vdCBoYXZlIGEga2V5Ym9hcmQgdG8gZGlzbWlzcy4gRS5nXG4gICAgLy8gd2hlbiB1c2luZyBhIHBoeXNpY2FsIGtleWJvYXJkLiBFbnN1cmUgd2UgaGF2ZSBhbiBldmVudCBmb3IgYW4gb3BlbmVkXG4gICAgLy8ga2V5Ym9hcmQuXG4gICAgY29uc3Qgc29mdEtleWJvYXJkTWF5QmVPcGVuID1cbiAgICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsIHx8IHRoaXMuX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZSgpO1xuXG4gICAgcmV0dXJuIGhhc0ZvY3VzZWRUZXh0SW5wdXQgJiYgc29mdEtleWJvYXJkTWF5QmVPcGVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGFuIG9wZW4gc29mdCBrZXlib2FyZCBpcyBwcmVzZW50IHdoaWNoIGRvZXMgbm90IG92ZXJsYXAgdGhlXG4gICAqIHZpZXdwb3J0LiBFLmcuIGZvciBhIFZSIHNvZnQta2V5Ym9hcmQgd2hpY2ggaXMgZGV0YWNoZWQgZnJvbSB0aGUgYXBwXG4gICAqIHZpZXdwb3J0LlxuICAgKi9cbiAgX3NvZnRLZXlib2FyZElzRGV0YWNoZWQ6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsICYmIHRoaXMuX2tleWJvYXJkTWV0cmljcy5oZWlnaHQgPT09IDA7XG4gIH07XG5cbiAgX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICAvLyBBbmRyb2lkIHZlcnNpb25zIHByaW9yIHRvIEFQSSAzMCByZWx5IG9uIG9ic2VydmluZyBsYXlvdXQgY2hhbmdlcyB3aGVuXG4gICAgLy8gYGFuZHJvaWQ6d2luZG93U29mdElucHV0TW9kZWAgaXMgc2V0IHRvIGBhZGp1c3RSZXNpemVgIG9yIGBhZGp1c3RQYW5gLlxuICAgIHJldHVybiBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIFBsYXRmb3JtLlZlcnNpb24gPCAzMDtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaEVuZGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaEVuZDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZS5uYXRpdmVFdmVudDtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gbmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG5cbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMgPVxuICAgICAgIWtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgfHwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ25ldmVyJztcblxuICAgIC8vIERpc21pc3MgdGhlIGtleWJvYXJkIG5vdyBpZiB3ZSBkaWRuJ3QgYmVjb21lIHJlc3BvbmRlciBpbiBjYXB0dXJlIHBoYXNlXG4gICAgLy8gdG8gZWF0IHByZXNzZXMsIGJ1dCBzdGlsbCB3YW50IHRvIGRpc21pc3Mgb24gaW50ZXJhY3Rpb24uXG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhlIHRhcmdldCBvZiB0aGUgdG91Y2ggZXZlbnQgaXMgdGhlIGN1cnJlbnQgaW5wdXQuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgIT0gbnVsbCAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgJiZcbiAgICAgIHRoaXMuX3NvZnRLZXlib2FyZElzRGV0YWNoZWQoKSAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHNcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblRvdWNoRW5kICYmIHRoaXMucHJvcHMub25Ub3VjaEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaENhbmNlbGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaENhbmNlbDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwgJiYgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoU3RhcnRgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaFN0YXJ0OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQgJiYgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hNb3ZlYCBldmVudC5cbiAgICpcbiAgICogU2luY2Ugd2Uga25vdyB0aGF0IHRoZSBgU2ltcGxlRXZlbnRQbHVnaW5gIG9jY3VycyBsYXRlciBpbiB0aGUgcGx1Z2luXG4gICAqIG9yZGVyLCBhZnRlciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLCB3ZSBjYW4gZGV0ZWN0IHRoYXQgd2Ugd2VyZSAqbm90KlxuICAgKiBwZXJtaXR0ZWQgdG8gYmUgdGhlIHJlc3BvbmRlciAocHJlc3VtYWJseSBiZWNhdXNlIGEgY29udGFpbmVkIHZpZXcgYmVjYW1lXG4gICAqIHJlc3BvbmRlcikuIFRoZSBgb25SZXNwb25kZXJSZWplY3RgIHdvbid0IGZpcmUgaW4gdGhhdCBjYXNlIC0gaXQgb25seVxuICAgKiBmaXJlcyB3aGVuIGEgKmN1cnJlbnQqIHJlc3BvbmRlciByZWplY3RzIG91ciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgVG91Y2ggU3RhcnQgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hNb3ZlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoTW92ZSAmJiB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlKGUpO1xuICB9O1xuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHwgUmVhY3QuRWxlbWVudDxzdHJpbmc+IHtcbiAgICBjb25zdCBbTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3LCBOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3XSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlXG4gICAgICAgIDogTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUsXG4gICAgXTtcbiAgICBpZiAoX19ERVZfXyAmJiB0aGlzLnByb3BzLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPVxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDoge1xuICAgICAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgICAgICB9O1xuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5PCRGbG93Rml4TWU+KFxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLFxuICAgICAgKTtcblxuICAgICAgY2hpbGRyZW4gPSBjaGlsZEFycmF5Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICBpZiAoaW5kZXhPZkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICBjb25zdCBTdGlja3lIZWFkZXJDb21wb25lbnQgPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5TdGlja3lIZWFkZXJDb21wb25lbnQgfHwgU2Nyb2xsVmlld1N0aWNreUhlYWRlcjtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN0aWNreUhlYWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgbmF0aXZlSUQ9eydTdGlja3lIZWFkZXItJyArIGtleX0gLyogVE9ETzogVDY4MjU4ODQ2LiAqL1xuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB0aGlzLl9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpfVxuICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KG5leHRJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIGhpZGRlbk9uU2Nyb2xsPXt0aGlzLnByb3BzLnN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8U2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSA/IEhPUklaT05UQUwgOiBWRVJUSUNBTH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGNvbnN0IGhhc1N0aWNreUhlYWRlcnMgPVxuICAgICAgQXJyYXkuaXNBcnJheShzdGlja3lIZWFkZXJJbmRpY2VzKSAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDA7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gKFxuICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXdcbiAgICAgICAgey4uLmNvbnRlbnRTaXplQ2hhbmdlUHJvcHN9XG4gICAgICAgIHJlZj17dGhpcy5faW5uZXJWaWV3LmdldEZvcndhcmRpbmdSZWYodGhpcy5wcm9wcy5pbm5lclZpZXdSZWYpfVxuICAgICAgICBzdHlsZT17Y29udGVudENvbnRhaW5lclN0eWxlfVxuICAgICAgICByZW1vdmVDbGlwcGVkU3Vidmlld3M9e1xuICAgICAgICAgIC8vIFN1YnZpZXcgY2xpcHBpbmcgY2F1c2VzIGlzc3VlcyB3aXRoIHN0aWNreSBoZWFkZXJzIG9uIEFuZHJvaWQgYW5kXG4gICAgICAgICAgLy8gd291bGQgYmUgaGFyZCB0byBmaXggcHJvcGVybHkgaW4gYSBwZXJmb3JtYW50IHdheS5cbiAgICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yZW1vdmVDbGlwcGVkU3Vidmlld3NcbiAgICAgICAgfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXc+XG4gICAgKTtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZUhvcml6b250YWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWxcbiAgICAgICAgOiB0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VWZXJ0aWNhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsXG4gICAgICAgIDogIXRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGJhc2VTdHlsZSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBzdHlsZXMuYmFzZUhvcml6b250YWxcbiAgICAgICAgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5faGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTpcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5faGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5faGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuICAgIGNvbnN0IHNjcm9sbFZpZXdSZWYgPSB0aGlzLl9zY3JvbGxWaWV3LmdldEZvcndhcmRpbmdSZWYoXG4gICAgICB0aGlzLnByb3BzLnNjcm9sbFZpZXdSZWYsXG4gICAgKTtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldyB7Li4ucHJvcHN9IHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7cmVmcmVzaENvbnRyb2x9XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIG91dGVyKX0sXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxudHlwZSBGb3J3YXJkZWRSZWY8VD4gPSB7Y3VycmVudDogbnVsbCB8IFQsIC4uLn0gfCAoKG51bGwgfCBUKSA9PiBtaXhlZCk7XG5cbnR5cGUgUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiA9IHtcbiAgZ2V0Rm9yd2FyZGluZ1JlZjogKFxuICAgID9Gb3J3YXJkZWRSZWY8VFB1YmxpY0luc3RhbmNlPixcbiAgKSA9PiAoVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCkgPT4gdm9pZCxcbiAgbmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwsXG4gIHB1YmxpY0luc3RhbmNlOiBUUHVibGljSW5zdGFuY2UgfCBudWxsLFxufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBgdXNlQ2FsbGJhY2tgIGFuZCBgdXNlTWVyZ2VSZWZzYFxuICogb25jZSBgU2Nyb2xsVmlld2AgaXMgcmVpbXBsZW1lbnRlZCBhcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+KFxuICBtdXRhdG9yOiBUTmF0aXZlSW5zdGFuY2UgPT4gVFB1YmxpY0luc3RhbmNlLFxuKTogUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiB7XG4gIGNvbnN0IHN0YXRlOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICAgIGdldEZvcndhcmRpbmdSZWY6IG1lbW9pemUoZm9yd2FyZGVkUmVmID0+IHtcbiAgICAgIHJldHVybiAobmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAgIG5hdGl2ZUluc3RhbmNlID09IG51bGwgPyBudWxsIDogbXV0YXRvcihuYXRpdmVJbnN0YW5jZSk7XG5cbiAgICAgICAgc3RhdGUubmF0aXZlSW5zdGFuY2UgPSBuYXRpdmVJbnN0YW5jZTtcbiAgICAgICAgc3RhdGUucHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZTtcblxuICAgICAgICBpZiAoZm9yd2FyZGVkUmVmICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZvcndhcmRlZFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmKHB1YmxpY0luc3RhbmNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmLmN1cnJlbnQgPSBwdWJsaWNJbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSksXG4gICAgbmF0aXZlSW5zdGFuY2U6IG51bGwsXG4gICAgcHVibGljSW5zdGFuY2U6IG51bGwsXG4gIH07XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKiAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdIFRoZSB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnkgRmxvdydzXG4gKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuZnVuY3Rpb24gV3JhcHBlcihwcm9wcywgcmVmOiAobWl4ZWQgPT4gbWl4ZWQpIHwge2N1cnJlbnQ6IG1peGVkLCAuLi59KSB7XG4gIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IHNjcm9sbFZpZXdSZWY9e3JlZn0gLz47XG59XG5XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuY29uc3QgRm9yd2FyZGVkU2Nyb2xsVmlldyA9IFJlYWN0LmZvcndhcmRSZWYoV3JhcHBlcik7XG5cbi8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBBZGQgc3RhdGljIGNvbnRleHQgdG8gRm9yd2FyZGVkU2Nyb2xsVmlld1xuRm9yd2FyZGVkU2Nyb2xsVmlldy5Db250ZXh0ID0gU2Nyb2xsVmlld0NvbnRleHQ7XG5cbkZvcndhcmRlZFNjcm9sbFZpZXcuZGlzcGxheU5hbWUgPSAnU2Nyb2xsVmlldyc7XG5cbm1vZHVsZS5leHBvcnRzID0gKChGb3J3YXJkZWRTY3JvbGxWaWV3OiAkRmxvd0ZpeE1lKTogUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8XG4gIFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIFNjcm9sbFZpZXc+LFxuICBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UsXG4+ICZcbiAgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQXlCQSxJQUFBQSx1QkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZ0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGFBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGtCQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxXQUFBLEdBQUFQLHNCQUFBLENBQUFD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