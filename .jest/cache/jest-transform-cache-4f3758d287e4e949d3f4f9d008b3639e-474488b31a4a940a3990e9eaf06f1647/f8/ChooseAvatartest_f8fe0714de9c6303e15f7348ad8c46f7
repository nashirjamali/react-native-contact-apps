cf08d687b105066ae827e3786026ea08
_getJestObj().mock('../../apis/contact', function () {
  return {
    postContact: jest.fn(function () {
      return Promise.resolve({
        status: 200
      });
    }),
    putContact: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ChooseAvatar = _interopRequireDefault(require("../ChooseAvatar"));
var _contact = require("../../apis/contact");
var _testUtils = require("../../utils/test-utils");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var createTestProps = function createTestProps(props) {
  return Object.assign({
    navigation: Object.assign({
      navigate: jest.fn()
    }, props)
  }, props);
};
describe('ChooseAvatar', function () {
  test('navigates to List screen after successful contact creation', (0, _asyncToGenerator2.default)(function* () {
    var props = createTestProps({});
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_ChooseAvatar.default, Object.assign({
        route: {
          key: 'ChooseAvatar',
          name: 'ChooseAvatar',
          params: {
            isEdit: false
          }
        }
      }, props))),
      getByPlaceholderText = _renderWithProviders.getByPlaceholderText,
      getByLabelText = _renderWithProviders.getByLabelText,
      getAllByTestId = _renderWithProviders.getAllByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(getAllByTestId('avatar-image')[0]).toBeTruthy();
      expect(getByLabelText('button-save')).toBeTruthy();
    });
    _reactNative.fireEvent.press(getAllByTestId('avatar-image')[0]);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByLabelText('button-save').props.accessibilityState.disabled).toBe(false);
    });
    _reactNative.fireEvent.press(getByLabelText('button-save'));
    yield (0, _reactNative.waitFor)(function () {
      expect(_contact.postContact).toHaveBeenCalledTimes(1);
      expect(props.navigation.navigate).toHaveBeenCalledWith('List');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwb3N0Q29udGFjdCIsImplc3QiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhdHVzIiwicHV0Q29udGFjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0IiwiX3JlYWN0TmF0aXZlIiwiX0Nob29zZUF2YXRhciIsIl9jb250YWN0IiwiX3Rlc3RVdGlscyIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJjcmVhdGVUZXN0UHJvcHMiLCJwcm9wcyIsIk9iamVjdCIsImFzc2lnbiIsIm5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImRlc2NyaWJlIiwidGVzdCIsImRlZmF1bHQiLCJfcmVuZGVyV2l0aFByb3ZpZGVycyIsInJlbmRlcldpdGhQcm92aWRlcnMiLCJqc3giLCJyb3V0ZSIsImtleSIsIm5hbWUiLCJwYXJhbXMiLCJpc0VkaXQiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsImdldEJ5TGFiZWxUZXh0IiwiZ2V0QWxsQnlUZXN0SWQiLCJ3YWl0Rm9yIiwiZXhwZWN0IiwidG9CZVRydXRoeSIsImZpcmVFdmVudCIsInByZXNzIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiZGlzYWJsZWQiLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiXSwic291cmNlcyI6WyJDaG9vc2VBdmF0YXIudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIHJlbmRlcixcbiAgZmlyZUV2ZW50LFxuICB3YWl0Rm9yLFxuICBzY3JlZW4sXG59IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7UHJvdmlkZXJ9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDaG9vc2VBdmF0YXIgZnJvbSAnLi4vQ2hvb3NlQXZhdGFyJztcbmltcG9ydCB7cG9zdENvbnRhY3QsIHB1dENvbnRhY3R9IGZyb20gJy4uLy4uL2FwaXMvY29udGFjdCc7XG5pbXBvcnQge1N0YWNrTmF2aWdhdGlvblByb3B9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrJztcbmltcG9ydCB7Um9vdFN0YWNrUGFyYW1MaXN0fSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge3JlbmRlcldpdGhQcm92aWRlcnN9IGZyb20gJy4uLy4uL3V0aWxzL3Rlc3QtdXRpbHMnO1xuXG5qZXN0Lm1vY2soJy4uLy4uL2FwaXMvY29udGFjdCcsICgpID0+ICh7XG4gIHBvc3RDb250YWN0OiBqZXN0LmZuKCgpID0+XG4gICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgIH0pLFxuICApLFxuICBwdXRDb250YWN0OiBqZXN0LmZuKCksXG59KSk7XG5cbnR5cGUgTmF2aWdhdGlvblByb3BzID0gU3RhY2tOYXZpZ2F0aW9uUHJvcDxSb290U3RhY2tQYXJhbUxpc3QsICdDaG9vc2VBdmF0YXInPjtcblxuY29uc3QgY3JlYXRlVGVzdFByb3BzID0gKHByb3BzOiBQYXJ0aWFsPE5hdmlnYXRpb25Qcm9wcz4pID0+ICh7XG4gIG5hdmlnYXRpb246IHtcbiAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICAgIC4uLnByb3BzLFxuICB9IGFzIE5hdmlnYXRpb25Qcm9wcyxcbiAgLi4ucHJvcHMsXG59KTtcblxuZGVzY3JpYmUoJ0Nob29zZUF2YXRhcicsICgpID0+IHtcbiAgdGVzdCgnbmF2aWdhdGVzIHRvIExpc3Qgc2NyZWVuIGFmdGVyIHN1Y2Nlc3NmdWwgY29udGFjdCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IGNyZWF0ZVRlc3RQcm9wcyh7fSk7XG5cbiAgICBjb25zdCB7Z2V0QnlQbGFjZWhvbGRlclRleHQsIGdldEJ5TGFiZWxUZXh0LCBnZXRBbGxCeVRlc3RJZH0gPVxuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyhcbiAgICAgICAgPENob29zZUF2YXRhclxuICAgICAgICAgIHJvdXRlPXt7XG4gICAgICAgICAgICBrZXk6ICdDaG9vc2VBdmF0YXInLFxuICAgICAgICAgICAgbmFtZTogJ0Nob29zZUF2YXRhcicsXG4gICAgICAgICAgICBwYXJhbXM6IHtpc0VkaXQ6IGZhbHNlfSxcbiAgICAgICAgICB9fVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QWxsQnlUZXN0SWQoJ2F2YXRhci1pbWFnZScpWzBdKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlMYWJlbFRleHQoJ2J1dHRvbi1zYXZlJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRBbGxCeVRlc3RJZCgnYXZhdGFyLWltYWdlJylbMF0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdldEJ5TGFiZWxUZXh0KCdidXR0b24tc2F2ZScpLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZS5kaXNhYmxlZCxcbiAgICAgICkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQucHJlc3MoZ2V0QnlMYWJlbFRleHQoJ2J1dHRvbi1zYXZlJykpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocG9zdENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChwcm9wcy5uYXZpZ2F0aW9uLm5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTGlzdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyAgIHRlc3QoJ25hdmlnYXRlcyB0byBMaXN0IHNjcmVlbiBhZnRlciBzdWNjZXNzZnVsIGNvbnRhY3QgdXBkYXRlJywgYXN5bmMgKCkgPT4ge1xuICAvLyAgICAgY29uc3QgbmF2aWdhdGlvbk1vY2sgPSB7cmVwbGFjZTogamVzdC5mbigpfTtcbiAgLy8gICAgIGNvbnN0IHJvdXRlID0ge3BhcmFtczoge2lzRWRpdDogdHJ1ZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBnZXRCeVRleHQoJ1VwZGF0ZScpO1xuXG4gIC8vICAgICBmaXJlRXZlbnQucHJlc3ModXBkYXRlQnV0dG9uKTtcblxuICAvLyAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gIC8vICAgICAgIGV4cGVjdChwdXRDb250YWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIC8vICAgICAgIGV4cGVjdChuYXZpZ2F0aW9uTW9jay5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTGlzdCcpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfSk7XG5cbiAgLy8gICB0ZXN0KCdkaXNwbGF5cyBlcnJvciBtZXNzYWdlIHdoZW4gY29udGFjdCBjcmVhdGlvbiBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IGZhbHNlfX07XG4gIC8vICAgICBjb25zdCB7Z2V0QnlUZXh0fSA9IHJlbmRlcihcbiAgLy8gICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gIC8vICAgICAgICAgPENob29zZUF2YXRhciBuYXZpZ2F0aW9uPXtuYXZpZ2F0aW9uTW9ja30gcm91dGU9e3JvdXRlfSAvPlxuICAvLyAgICAgICA8L1Byb3ZpZGVyPixcbiAgLy8gICAgICk7XG5cbiAgLy8gICAgIGNvbnN0IHNhdmVCdXR0b24gPSBnZXRCeVRleHQoJ1NhdmUnKTtcblxuICAvLyAgICAgcG9zdENvbnRhY3QubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBjb250YWN0JykpO1xuXG4gIC8vICAgICBmaXJlRXZlbnQucHJlc3Moc2F2ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocG9zdENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgLy8gICAgICAgZXhwZWN0KG5hdmlnYXRpb25Nb2NrLnJlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0Vycm9yJykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRmFpbGVkIHRvIGNyZWF0ZSBjb250YWN0JykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xuXG4gIC8vICAgdGVzdCgnZGlzcGxheXMgZXJyb3IgbWVzc2FnZSB3aGVuIGNvbnRhY3QgdXBkYXRlIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAvLyAgICAgY29uc3QgbmF2aWdhdGlvbk1vY2sgPSB7cmVwbGFjZTogamVzdC5mbigpfTtcbiAgLy8gICAgIGNvbnN0IHJvdXRlID0ge3BhcmFtczoge2lzRWRpdDogdHJ1ZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBnZXRCeVRleHQoJ1VwZGF0ZScpO1xuXG4gIC8vICAgICBwdXRDb250YWN0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgY29udGFjdCcpKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHVwZGF0ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocHV0Q29udGFjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAvLyAgICAgICBleHBlY3QobmF2aWdhdGlvbk1vY2sucmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRXJyb3InKSkudG9CZVRydXRoeSgpO1xuICAvLyAgICAgICBleHBlY3QoZ2V0QnlUZXh0KCdGYWlsZWQgdG8gdXBkYXRlIGNvbnRhY3QnKSkudG9CZVRydXRoeSgpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBY0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9CQUFvQixFQUFFO0VBQUEsT0FBTztJQUNyQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQ25CQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUNkQyxNQUFNLEVBQUU7TUFDVixDQUFDLENBQUM7SUFBQSxDQUNKLENBQUM7SUFDREMsVUFBVSxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUssc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFyQkosSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBT0EsSUFBQUks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