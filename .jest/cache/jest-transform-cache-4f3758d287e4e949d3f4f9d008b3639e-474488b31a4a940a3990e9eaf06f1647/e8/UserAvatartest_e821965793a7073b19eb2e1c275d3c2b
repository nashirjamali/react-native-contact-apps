5107a7960b15670435c1ecd01cd95b54
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _UserAvatar = _interopRequireDefault(require("../UserAvatar"));
var _jsxRuntime = require("react/jsx-runtime");
describe('UserAvatar', function () {
  test('renders initials if photo is not found', (0, _asyncToGenerator2.default)(function* () {
    jest.spyOn(global, 'fetch').mockResolvedValueOnce(Promise.resolve({
      ok: true,
      status: 404
    }));
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_UserAvatar.default, {
        photo: "non-existing.jpg",
        firstName: "John",
        lastName: "Doe"
      })),
      getByTestId = _render.getByTestId;
    var textContainer = getByTestId('user-avatar-text');
    var initials = getByTestId('user-avatar-text').props.children.props.children;
    yield (0, _reactNative.waitFor)(function () {
      expect(textContainer).toBeTruthy();
      expect(initials).toBe('JD');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9Vc2VyQXZhdGFyIiwiX2pzeFJ1bnRpbWUiLCJkZXNjcmliZSIsInRlc3QiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiamVzdCIsInNweU9uIiwiZ2xvYmFsIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsInN0YXR1cyIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJwaG90byIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZ2V0QnlUZXN0SWQiLCJ0ZXh0Q29udGFpbmVyIiwiaW5pdGlhbHMiLCJwcm9wcyIsImNoaWxkcmVuIiwid2FpdEZvciIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJ0b0JlIl0sInNvdXJjZXMiOlsiVXNlckF2YXRhci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHthY3QsIHJlbmRlciwgd2FpdEZvciwgc2NyZWVufSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgVXNlckF2YXRhciBmcm9tICcuLi9Vc2VyQXZhdGFyJztcblxuZGVzY3JpYmUoJ1VzZXJBdmF0YXInLCAoKSA9PiB7XG4vLyAgIHRlc3QoJ3JlbmRlcnMgaW1hZ2UgaWYgcGhvdG8gZXhpc3RzJywgYXN5bmMgKCkgPT4ge1xuLy8gICAgIGplc3Rcbi8vICAgICAgIC5zcHlPbihnbG9iYWwsICdmZXRjaCcpXG4vLyAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKFxuLy8gICAgICAgICBQcm9taXNlLnJlc29sdmUoe29rOiB0cnVlLCBzdGF0dXM6IDIwMH0gYXMgUmVzcG9uc2UpLFxuLy8gICAgICAgKTtcblxuLy8gICAgIGNvbnN0IHBob3RvID0gJ2h0dHBzOi8vZXhhbXBsZS5jb20vYXZhdGFyLmpwZyc7XG5cbi8vICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuLy8gICAgICAgcmVuZGVyKDxVc2VyQXZhdGFyIHBob3RvPXtwaG90b30gZmlyc3ROYW1lPVwiSm9oblwiIGxhc3ROYW1lPVwiRG9lXCIgLz4pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY29uc3QgaW1hZ2UgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3VzZXItYXZhdGFyLWltZycpO1xuLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuLy8gICAgICAgZXhwZWN0KGltYWdlLnByb3BzLnNvdXJjZS51cmkpLnRvQmUocGhvdG8pO1xuLy8gICAgIH0pO1xuLy8gICB9KTtcblxuICB0ZXN0KCdyZW5kZXJzIGluaXRpYWxzIGlmIHBob3RvIGlzIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICBqZXN0XG4gICAgICAuc3B5T24oZ2xvYmFsLCAnZmV0Y2gnKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtvazogdHJ1ZSwgc3RhdHVzOiA0MDR9IGFzIFJlc3BvbnNlKSxcbiAgICAgICk7XG5cbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKFxuICAgICAgPFVzZXJBdmF0YXIgcGhvdG89XCJub24tZXhpc3RpbmcuanBnXCIgZmlyc3ROYW1lPVwiSm9oblwiIGxhc3ROYW1lPVwiRG9lXCIgLz4sXG4gICAgKTtcbiAgICBjb25zdCB0ZXh0Q29udGFpbmVyID0gZ2V0QnlUZXN0SWQoJ3VzZXItYXZhdGFyLXRleHQnKTtcbiAgICBjb25zdCBpbml0aWFscyA9XG4gICAgICBnZXRCeVRlc3RJZCgndXNlci1hdmF0YXItdGV4dCcpLnByb3BzLmNoaWxkcmVuLnByb3BzLmNoaWxkcmVuO1xuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHRleHRDb250YWluZXIpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChpbml0aWFscykudG9CZSgnSkQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxXQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBRXZDSSxRQUFRLENBQUMsWUFBWSxFQUFFLFlBQU07RUFvQjNCQyxJQUFJLENBQUMsd0NBQXdDLE1BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO0lBQ3pEQyxJQUFJLENBQ0RDLEtBQUssQ0FBQ0MsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUN0QkMscUJBQXFCLENBQ3BCQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztNQUFDQyxFQUFFLEVBQUUsSUFBSTtNQUFFQyxNQUFNLEVBQUU7SUFBRyxDQUFhLENBQ3JELENBQUM7SUFFSCxJQUFBQyxPQUFBLEdBQXNCLElBQUFDLG1CQUFNLEVBQzFCLElBQUFkLFdBQUEsQ0FBQWUsR0FBQSxFQUFDaEIsV0FBQSxDQUFBSyxPQUFVO1FBQUNZLEtBQUssRUFBQyxrQkFBa0I7UUFBQ0MsU0FBUyxFQUFDLE1BQU07UUFBQ0MsUUFBUSxFQUFDO01BQUssQ0FBRSxDQUN4RSxDQUFDO01BRk1DLFdBQVcsR0FBQU4sT0FBQSxDQUFYTSxXQUFXO0lBR2xCLElBQU1DLGFBQWEsR0FBR0QsV0FBVyxDQUFDLGtCQUFrQixDQUFDO0lBQ3JELElBQU1FLFFBQVEsR0FDWkYsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUNHLEtBQUssQ0FBQ0MsUUFBUSxDQUFDRCxLQUFLLENBQUNDLFFBQVE7SUFDL0QsTUFBTSxJQUFBQyxvQkFBTyxFQUFDLFlBQU07TUFDbEJDLE1BQU0sQ0FBQ0wsYUFBYSxDQUFDLENBQUNNLFVBQVUsQ0FBQyxDQUFDO01BQ2xDRCxNQUFNLENBQUNKLFFBQVEsQ0FBQyxDQUFDTSxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzdCLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBQztBQUNKLENBQUMsQ0FBQyJ9