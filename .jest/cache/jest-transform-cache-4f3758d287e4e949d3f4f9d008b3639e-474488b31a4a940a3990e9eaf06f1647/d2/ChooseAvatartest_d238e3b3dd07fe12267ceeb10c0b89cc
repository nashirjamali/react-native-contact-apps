1785c860f904468f7494306ac4a4aa99
_getJestObj().mock('../../apis/contact', function () {
  return {
    postContact: jest.fn(function () {
      return Promise.resolve({
        status: 201
      });
    }),
    putContact: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ChooseAvatar = _interopRequireDefault(require("../ChooseAvatar"));
var _contact = require("../../apis/contact");
var _testUtils = require("../../utils/test-utils");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var createTestProps = function createTestProps(props) {
  return Object.assign({
    navigation: Object.assign({
      navigate: jest.fn(),
      replace: jest.fn()
    }, props)
  }, props);
};
describe('ChooseAvatar', function () {
  test('navigates to List screen after successful contact creation', (0, _asyncToGenerator2.default)(function* () {
    var props = createTestProps({});
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(_ChooseAvatar.default, Object.assign({
        route: {
          key: 'ChooseAvatar',
          name: 'ChooseAvatar',
          params: {
            isEdit: false
          }
        }
      }, props))),
      getByPlaceholderText = _renderWithProviders.getByPlaceholderText,
      getByLabelText = _renderWithProviders.getByLabelText,
      getAllByTestId = _renderWithProviders.getAllByTestId;
    expect(getAllByTestId('avatar-image')[0]).toBeTruthy();
    expect(getByLabelText('button-save')).toBeTruthy();
    _reactNative.fireEvent.press(getAllByTestId('avatar-image')[0]);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByLabelText('button-save').props.accessibilityState.disabled).toBe(false);
    });
    _reactNative.fireEvent.press(getByLabelText('button-save'));
    yield (0, _reactNative.waitFor)(function () {
      expect(_contact.postContact).toHaveBeenCalledTimes(1);
    });
    expect(props.navigation.replace).toHaveBeenCalledWith('List');
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwb3N0Q29udGFjdCIsImplc3QiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhdHVzIiwicHV0Q29udGFjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0IiwiX3JlYWN0TmF0aXZlIiwiX0Nob29zZUF2YXRhciIsIl9jb250YWN0IiwiX3Rlc3RVdGlscyIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJjcmVhdGVUZXN0UHJvcHMiLCJwcm9wcyIsIk9iamVjdCIsImFzc2lnbiIsIm5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsInJlcGxhY2UiLCJkZXNjcmliZSIsInRlc3QiLCJkZWZhdWx0IiwiX3JlbmRlcldpdGhQcm92aWRlcnMiLCJyZW5kZXJXaXRoUHJvdmlkZXJzIiwianN4Iiwicm91dGUiLCJrZXkiLCJuYW1lIiwicGFyYW1zIiwiaXNFZGl0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJnZXRCeUxhYmVsVGV4dCIsImdldEFsbEJ5VGVzdElkIiwiZXhwZWN0IiwidG9CZVRydXRoeSIsImZpcmVFdmVudCIsInByZXNzIiwid2FpdEZvciIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImRpc2FibGVkIiwidG9CZSIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIl0sInNvdXJjZXMiOlsiQ2hvb3NlQXZhdGFyLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICByZW5kZXIsXG4gIGZpcmVFdmVudCxcbiAgd2FpdEZvcixcbiAgc2NyZWVuLFxufSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2hvb3NlQXZhdGFyIGZyb20gJy4uL0Nob29zZUF2YXRhcic7XG5pbXBvcnQge3Bvc3RDb250YWN0LCBwdXRDb250YWN0fSBmcm9tICcuLi8uLi9hcGlzL2NvbnRhY3QnO1xuaW1wb3J0IHtTdGFja05hdmlnYXRpb25Qcm9wfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9zdGFjayc7XG5pbXBvcnQge1Jvb3RTdGFja1BhcmFtTGlzdH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHtyZW5kZXJXaXRoUHJvdmlkZXJzfSBmcm9tICcuLi8uLi91dGlscy90ZXN0LXV0aWxzJztcblxuamVzdC5tb2NrKCcuLi8uLi9hcGlzL2NvbnRhY3QnLCAoKSA9PiAoe1xuICBwb3N0Q29udGFjdDogamVzdC5mbigoKSA9PlxuICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBzdGF0dXM6IDIwMSxcbiAgICB9KSxcbiAgKSxcbiAgcHV0Q29udGFjdDogamVzdC5mbigpLFxufSkpO1xuXG50eXBlIE5hdmlnYXRpb25Qcm9wcyA9IFN0YWNrTmF2aWdhdGlvblByb3A8Um9vdFN0YWNrUGFyYW1MaXN0LCAnQ2hvb3NlQXZhdGFyJz47XG5cbmNvbnN0IGNyZWF0ZVRlc3RQcm9wcyA9IChwcm9wczogUGFydGlhbDxOYXZpZ2F0aW9uUHJvcHM+KSA9PiAoe1xuICBuYXZpZ2F0aW9uOiB7XG4gICAgbmF2aWdhdGU6IGplc3QuZm4oKSxcbiAgICByZXBsYWNlOiBqZXN0LmZuKCksXG4gICAgLi4ucHJvcHMsXG4gIH0gYXMgTmF2aWdhdGlvblByb3BzLFxuICAuLi5wcm9wcyxcbn0pO1xuXG5kZXNjcmliZSgnQ2hvb3NlQXZhdGFyJywgKCkgPT4ge1xuICB0ZXN0KCduYXZpZ2F0ZXMgdG8gTGlzdCBzY3JlZW4gYWZ0ZXIgc3VjY2Vzc2Z1bCBjb250YWN0IGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHByb3BzID0gY3JlYXRlVGVzdFByb3BzKHt9KTtcblxuICAgIGNvbnN0IHtnZXRCeVBsYWNlaG9sZGVyVGV4dCwgZ2V0QnlMYWJlbFRleHQsIGdldEFsbEJ5VGVzdElkfSA9XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8Q2hvb3NlQXZhdGFyXG4gICAgICAgICAgcm91dGU9e3tcbiAgICAgICAgICAgIGtleTogJ0Nob29zZUF2YXRhcicsXG4gICAgICAgICAgICBuYW1lOiAnQ2hvb3NlQXZhdGFyJyxcbiAgICAgICAgICAgIHBhcmFtczoge2lzRWRpdDogZmFsc2V9LFxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPixcbiAgICAgICk7XG5cbiAgICBleHBlY3QoZ2V0QWxsQnlUZXN0SWQoJ2F2YXRhci1pbWFnZScpWzBdKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5TGFiZWxUZXh0KCdidXR0b24tc2F2ZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEFsbEJ5VGVzdElkKCdhdmF0YXItaW1hZ2UnKVswXSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2V0QnlMYWJlbFRleHQoJ2J1dHRvbi1zYXZlJykucHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlLmRpc2FibGVkLFxuICAgICAgKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeUxhYmVsVGV4dCgnYnV0dG9uLXNhdmUnKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChwb3N0Q29udGFjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHByb3BzLm5hdmlnYXRpb24ucmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xpc3QnKTtcbiAgfSk7XG5cbiAgLy8gICB0ZXN0KCduYXZpZ2F0ZXMgdG8gTGlzdCBzY3JlZW4gYWZ0ZXIgc3VjY2Vzc2Z1bCBjb250YWN0IHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IHRydWV9fTtcbiAgLy8gICAgIGNvbnN0IHtnZXRCeVRleHR9ID0gcmVuZGVyKFxuICAvLyAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgLy8gICAgICAgICA8Q2hvb3NlQXZhdGFyIG5hdmlnYXRpb249e25hdmlnYXRpb25Nb2NrfSByb3V0ZT17cm91dGV9IC8+XG4gIC8vICAgICAgIDwvUHJvdmlkZXI+LFxuICAvLyAgICAgKTtcblxuICAvLyAgICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZ2V0QnlUZXh0KCdVcGRhdGUnKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHVwZGF0ZUJ1dHRvbik7XG5cbiAgLy8gICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAvLyAgICAgICBleHBlY3QocHV0Q29udGFjdCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAvLyAgICAgICBleHBlY3QobmF2aWdhdGlvbk1vY2sucmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0xpc3QnKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xuXG4gIC8vICAgdGVzdCgnZGlzcGxheXMgZXJyb3IgbWVzc2FnZSB3aGVuIGNvbnRhY3QgY3JlYXRpb24gZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gIC8vICAgICBjb25zdCBuYXZpZ2F0aW9uTW9jayA9IHtyZXBsYWNlOiBqZXN0LmZuKCl9O1xuICAvLyAgICAgY29uc3Qgcm91dGUgPSB7cGFyYW1zOiB7aXNFZGl0OiBmYWxzZX19O1xuICAvLyAgICAgY29uc3Qge2dldEJ5VGV4dH0gPSByZW5kZXIoXG4gIC8vICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAvLyAgICAgICAgIDxDaG9vc2VBdmF0YXIgbmF2aWdhdGlvbj17bmF2aWdhdGlvbk1vY2t9IHJvdXRlPXtyb3V0ZX0gLz5cbiAgLy8gICAgICAgPC9Qcm92aWRlcj4sXG4gIC8vICAgICApO1xuXG4gIC8vICAgICBjb25zdCBzYXZlQnV0dG9uID0gZ2V0QnlUZXh0KCdTYXZlJyk7XG5cbiAgLy8gICAgIHBvc3RDb250YWN0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udGFjdCcpKTtcblxuICAvLyAgICAgZmlyZUV2ZW50LnByZXNzKHNhdmVCdXR0b24pO1xuXG4gIC8vICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgLy8gICAgICAgZXhwZWN0KHBvc3RDb250YWN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gIC8vICAgICAgIGV4cGVjdChuYXZpZ2F0aW9uTW9jay5yZXBsYWNlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAvLyAgICAgICBleHBlY3QoZ2V0QnlUZXh0KCdFcnJvcicpKS50b0JlVHJ1dGh5KCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0ZhaWxlZCB0byBjcmVhdGUgY29udGFjdCcpKS50b0JlVHJ1dGh5KCk7XG4gIC8vICAgICB9KTtcbiAgLy8gICB9KTtcblxuICAvLyAgIHRlc3QoJ2Rpc3BsYXlzIGVycm9yIG1lc3NhZ2Ugd2hlbiBjb250YWN0IHVwZGF0ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgLy8gICAgIGNvbnN0IG5hdmlnYXRpb25Nb2NrID0ge3JlcGxhY2U6IGplc3QuZm4oKX07XG4gIC8vICAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtpc0VkaXQ6IHRydWV9fTtcbiAgLy8gICAgIGNvbnN0IHtnZXRCeVRleHR9ID0gcmVuZGVyKFxuICAvLyAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgLy8gICAgICAgICA8Q2hvb3NlQXZhdGFyIG5hdmlnYXRpb249e25hdmlnYXRpb25Nb2NrfSByb3V0ZT17cm91dGV9IC8+XG4gIC8vICAgICAgIDwvUHJvdmlkZXI+LFxuICAvLyAgICAgKTtcblxuICAvLyAgICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZ2V0QnlUZXh0KCdVcGRhdGUnKTtcblxuICAvLyAgICAgcHV0Q29udGFjdC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGNvbnRhY3QnKSk7XG5cbiAgLy8gICAgIGZpcmVFdmVudC5wcmVzcyh1cGRhdGVCdXR0b24pO1xuXG4gIC8vICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgLy8gICAgICAgZXhwZWN0KHB1dENvbnRhY3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgLy8gICAgICAgZXhwZWN0KG5hdmlnYXRpb25Nb2NrLnJlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIC8vICAgICAgIGV4cGVjdChnZXRCeVRleHQoJ0Vycm9yJykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnRmFpbGVkIHRvIHVwZGF0ZSBjb250YWN0JykpLnRvQmVUcnV0aHkoKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQWNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtFQUFBLE9BQU87SUFDckNDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUNuQkMsT0FBTyxDQUFDQyxPQUFPLENBQUM7UUFDZEMsTUFBTSxFQUFFO01BQ1YsQ0FBQyxDQUFDO0lBQUEsQ0FDSixDQUFDO0lBQ0RDLFVBQVUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDdEIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUFDLElBQUFLLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBckJKLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQU9BLElBQUFJLGFBQUEsR0FB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